(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[25],{163:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return c}));var r=a(7),s=a(2),n=a(18),i=(a(70),a(1));function c(e){var t=Object(s.useContext)(n.b),a=Object(s.useState)(t.getItem("balance")),c=Object(r.a)(a,2),l=c[0],d=c[1],o=Object(s.useState)(t.getItem("balance")),u=Object(r.a)(o,2),b=u[0],p=u[1],m=Object(s.useState)(""),j=Object(r.a)(m,2),h=j[0],f=j[1],x=Object(s.useState)(""),g=Object(r.a)(x,2),O=g[0],y=g[1],w=Object(s.useState)(""),v=Object(r.a)(w,2),N=v[0],k=v[1],C=Object(s.useState)(!1),_=Object(r.a)(C,2),S=_[0],I=_[1],L=Object(s.useState)(""),q=Object(r.a)(L,2),A=q[0],T=q[1];Object(s.useEffect)((function(){!function(){var t=new Headers;t.append("Content-Type","application/x-www-form-urlencoded"),t.append("Authorization","Bearer "+localStorage.getItem("jwt"));var a=new URLSearchParams;e.user&&e.user.id&&a.append("uid",e.user.id),fetch("https://api.munimji.co/api/v1/getExposerAdmin",{method:"POST",headers:t,body:a}).then((function(e){if(401!==e.status)return e.json()})).then((function(e){e&&e.success&&(d(parseInt(e.data.bal)),p(parseInt(e.data.bal)))}))}()}),[e.user]);return Object(i.jsx)("div",{className:"flex items-center justify-center",children:Object(i.jsx)("form",{autoComplete:"off",className:"bg-primary-200 dark:bg-secondary-700 opacity-95 inline-block p-2 my-1 overflow-hidden text-left align-middle transition-all transform w-full",onSubmit:function(t){t.preventDefault(),I(!0);var a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded"),a.append("Authorization","Bearer "+localStorage.getItem("jwt"));var r=new URLSearchParams;e.user&&e.user.id&&(r.append("user_id",e.user.id),r.append("t_type","wd"===e.modeltype?"withdraw":"deposit"),r.append("deposite_bal",h),r.append("remark",N),r.append("p_code",e.user.p_code),r.append("admin_password",O));fetch("https://api.munimji.co/api/v1/user/updateChips",{method:"POST",headers:a,body:r}).then((function(e){if(401!==e.status)return e.json()})).then((function(t){t&&t.success?e.modelClose(1,t.message):(T(t.message),setTimeout((function(e){T("")}),2e3)),I(!1)})).catch((function(e){I(!1)}))},children:Object(i.jsxs)("div",{className:"grid grid-cols-2 gap-1 text-blue-900 dark:text-blue-300  px-1 py-1",children:[Object(i.jsxs)("div",{className:"",children:[Object(i.jsxs)("label",{children:["Available Chipskk [",e.username,"]"]}),Object(i.jsx)("input",{type:"text",readOnly:!0,value:l,tabIndex:-1,className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700",name:"current_bal_admin",required:!0})]}),Object(i.jsxs)("div",{className:"",children:[Object(i.jsxs)("label",{children:["Available Chips [",e.user.p_code,"]"]}),Object(i.jsx)("input",{type:"text",readOnly:!0,tabIndex:-1,className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700",name:"current_bal_user",defaultValue:e.user.amount,required:!0})]}),Object(i.jsxs)("div",{className:"",children:[Object(i.jsx)("label",{children:"Remaining Chips"}),Object(i.jsx)("input",{type:"text",readOnly:!0,tabIndex:-1,value:b,className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700",name:"remaining_bal",required:!0})]}),Object(i.jsxs)("div",{className:"",children:[Object(i.jsx)("label",{children:"wd"===e.modeltype?"Withdraw Chips":"Deposite Chips"}),Object(i.jsx)("input",{type:"number",value:h,autoFocus:!0,onChange:function(t){f(t.target.value),function(t){var a=parseInt(t.target.value),r=l;(Number.isNaN(a)||a<0)&&(a=0),"wd"===e.modeltype?p(r+a):p(r-a)}(t)},min:"0",step:.01,max:"wd"===e.modeltype?Number(e.user.amount)+Number(e.user.exposer)+Number(e.user.up_line):e.bal,className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700",required:!0})]}),Object(i.jsxs)("div",{className:"",children:[Object(i.jsx)("label",{children:"Remark"}),Object(i.jsx)("input",{type:"text",value:N,onChange:function(e){return k(e.target.value)},maxLength:"70",className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700",required:!0})]}),Object(i.jsxs)("div",{className:"",children:[Object(i.jsx)("label",{children:"Admin Password:"}),Object(i.jsx)("input",{type:"password",autoComplete:"off",onChange:function(e){return y(e.target.value)},className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700",maxLength:"20",required:!0})]}),Object(i.jsx)("div",{className:"",children:Object(i.jsx)("button",{type:"submit",disabled:S,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded-full focus:outline-none",children:"Transfer"})}),Object(i.jsx)("div",{children:A&&Object(i.jsx)("p",{className:"alert alert-danger",children:A})})]})})})}},70:function(e,t,a){"use strict";var r=a(2),s=a(1);t.a=function(e){return Object(r.useEffect)((function(){return document.body.classList.add("modal-open"),function(){document.body.classList.remove("modal-open")}}),[]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"modal fade show",id:"create_new_party",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-modal":"true",role:"dialog",style:{display:"block",paddingLeft:"0px"},children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg model-content-box",children:Object(s.jsxs)("div",{className:"modal-content rounded-0 ".concat(e.className?e.className:"blue-light-bg"),children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h3",{className:"modal-title center badge badge-pill badge-warning",id:"exampleModalLabel",children:e.title}),""!=e.sub_title&&Object(s.jsx)("h3",{className:"modal-title right badge badge-dark",id:"exampleModalLabel",children:e.sub_title}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(t){e.closeModal()},children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:e.children}),Object(s.jsx)("div",{className:"modal-footer"})]})})}),Object(s.jsx)("div",{className:"modal-backdrop fade show"})]})}}}]);