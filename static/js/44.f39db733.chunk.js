(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[44],{153:function(e,t,n){"use strict";n.r(t);var a=n(16),c=n(3),s=n(6),r=n(7),i=n(2),o=n(5),l=n(18),d=n(28),j=n(1);t.default=function(e){var t=Object(i.useContext)(l.b),n=Object(o.p)(),u=(n.eventid,n.eventtype,Object(i.useState)(!1)),p=Object(r.a)(u,2),h=p[0],b=p[1],O=Object(i.useState)([]),f=Object(r.a)(O,2),m=f[0],x=f[1],v=Object(i.useState)([]),y=Object(r.a)(v,2),g=y[0],w=y[1],N=Object(i.useState)([]),k=Object(r.a)(N,2),S=k[0],_=k[1],T=Object(i.useState)([]),P=Object(r.a)(T,2),C=P[0],I=P[1],M=Object(i.useState)([]),z=Object(r.a)(M,2),A=z[0],B=z[1];Object(i.useEffect)((function(){E(),H(),J()}),[]);var E=function(){var n=Object(s.a)(Object(c.a)().mark((function n(a){var s;return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b(!0),(s=new Headers).append("Content-Type","application/json"),s.append("Authorization","Bearer "+t.getItem("jwt")),fetch("https://api.royalrunbet.com/api/v1/event/getEvents",{method:"POST",headers:s,redirect:"follow"}).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(e){e.data&&x(e.data)})).catch((function(e){console.log(e)})).finally((function(){b(!1)}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),H=function(){var n=Object(s.a)(Object(c.a)().mark((function n(s){var r;return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b(!0),(r=new Headers).append("Content-Type","application/json"),r.append("Authorization","Bearer "+t.getItem("jwt")),fetch("https://api.royalrunbet.com/api/v1/event/getMyMarkets",{method:"POST",headers:r,redirect:"follow"}).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(e){e.data&&(_(e.data),I(e.expMarket),w([].concat(Object(a.a)(g),Object(a.a)(e.mkIds))),console.log(e.data))})).catch((function(e){console.log(e)})).finally((function(){b(!1)}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),J=function(){var n=Object(s.a)(Object(c.a)().mark((function n(a){var s;return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b(!0),(s=new Headers).append("Content-Type","application/json"),s.append("Authorization","Bearer "+t.getItem("jwt")),fetch("https://api.royalrunbet.com/api/v1/event/getMyPlayers",{method:"POST",headers:s,redirect:"follow"}).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(e){e.data&&B(e.data)})).catch((function(e){console.log(e)})).finally((function(){b(!1)}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return h?Object(j.jsx)(d.a,{}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"row",children:m&&m.map((function(e,t){return Object(j.jsx)("div",{className:"col-12 col-md-3 p-0",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("div",{className:"card-title",children:[Object(j.jsx)("span",{className:"text-border text-success font-weight-bold text-xl-left",children:e.event_name}),Object(j.jsxs)("span",{className:"float-right text-danger",children:["Exp: ",C[e.event_id]?C[e.event_id]:0]})]}),Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("ul",{class:"list-group",children:[0!=S.length&&S.map((function(t,n){return t.event_id==e.event_id&&Object(j.jsxs)("li",{className:"list-group-item list-group-item-light",children:[t.market_name,Object(j.jsxs)("table",{className:"table table-responsive",children:[Object(j.jsx)("thead",{className:"thead-dark",children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Player"}),Object(j.jsx)("th",{children:"Run"}),Object(j.jsx)("th",{children:"Type"}),Object(j.jsx)("th",{children:"User"})]})}),Object(j.jsx)("tbody",{children:A.map((function(e,n){return e.market_id==t.market_id&&Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{className:"system"==e.type?"text-success bold":"text-secondary",children:e.runner_name}),Object(j.jsx)("td",{className:"system"==e.type?"text-success italic":"text-secondary",children:e.runs?e.runs:"-"}),Object(j.jsx)("td",{className:"system"==e.type?"text-success bold":"text-secondary",children:"user"==e.type?"U":"S"}),Object(j.jsx)("td",{className:"system"==e.type?"text-success bold":"text-secondary",children:"user"==e.type?e.email:"^system"})]},n)}))})]})]},n)})),0===S.length&&Object(j.jsx)("li",{class:"list-group-item list-group-item-info",children:"No Player Selected yet."})]})},t)},t)]},t)},t)},t)}))},"markets")})}}}]);