(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[7],{132:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return n}));var s=a(7),c=a(2),l=a(70),r=a(1);function n(e){var t=Object(c.useState)(""),a=Object(s.a)(t,2),n=a[0],o=a[1],d=Object(c.useState)(""),i=Object(s.a)(d,2),u=i[0],m=i[1],b=Object(c.useState)(""),p=Object(s.a)(b,2),j=p[0],h=p[1],f=Object(c.useState)(""),O=Object(s.a)(f,2),x=O[0],g=O[1],N=Object(c.useState)(!1),_=Object(s.a)(N,2),v=_[0],y=_[1],w=Object(c.useState)(""),C=Object(s.a)(w,2),S=C[0],k=C[1],L=Object(c.useState)("alert alert-success"),M=Object(s.a)(L,2),q=M[0],A=M[1],D=function(){m(""),h(""),g(""),o("")};return Object(r.jsx)(l.a,{closeModal:e.closeModal,title:e.t_type&&"withdraw"===e.t_type?"Withdraw from ".concat(e.user.p_code):"Deposit to ".concat(e.user.p_code),children:Object(r.jsx)("form",{autoComplete:"off",className:"my-1 text-left align-middle",onSubmit:function(t){t.preventDefault(),y(!0);var a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded"),a.append("Authorization","Bearer "+localStorage.getItem("jwt"));var s=new URLSearchParams;s.append("user_id",e.user.id),s.append("deposite_bal",u),s.append("t_type",e.t_type),s.append("remark",x),s.append("p_code",e.user.p_code),s.append("admin_password",j);fetch("https://api.munimji.co/api/v1/user/updateChips",{method:"POST",headers:a,body:s}).then((function(t){if(t.ok?A("alert alert-success"):A("alert alert-danger"),401!==t.status)return t.json();e.navigate("/login")})).then((function(t){k(t.message),t&&t.success?(A("alert alert-success"),D(),e.closeModal(t.message,"alert alert-success")):A("alert alert-danger"),setTimeout((function(e){k("")}),2e3),y(!1)})).catch((function(e){y(!1)}))},children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(r.jsxs)("label",{children:["Available Chips [",e.user&&e.user.p_code,"]"]}),Object(r.jsx)("input",{type:"text",readOnly:!0,className:"form-control",name:"current_bal_user",defaultValue:e.user&&e.user.amount,required:!0})]}),Object(r.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(r.jsx)("label",{children:e.t_type&&"withdraw"===e.t_type?"Withdraw Chips":"Deposite Chips"}),Object(r.jsx)("input",{type:"number",value:u,onChange:function(t){m(t.target.value),function(t){var a=parseInt(t.target.value);(Number.isNaN(a)||a<0)&&(a=0),"withdraw"===e.t_type?o(Number(e.user.amount)-Number(a)):o(Number(e.user.amount)+Number(a))}(t)},min:"0",max:e.t_type&&"withdraw"===e.t_type?e.user.amount:e.bal,className:"form-control",autoFocus:!0,required:!0})]}),Object(r.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(r.jsx)("label",{children:"Remark"}),Object(r.jsx)("input",{type:"text",value:x,onChange:function(e){return g(e.target.value)},maxLength:"70",className:"form-control",required:!0})]}),Object(r.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(r.jsx)("label",{children:"Chips After"}),Object(r.jsx)("input",{type:"text",readOnly:!0,disabled:!0,tabIndex:-1,value:n,className:"form-control",name:"remaining_bal",required:!0})]}),Object(r.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(r.jsx)("label",{children:"Admin Password:"}),Object(r.jsx)("input",{type:"password",autoComplete:"off",onChange:function(e){return h(e.target.value)},className:"form-control",maxLength:"20",required:!0})]}),Object(r.jsxs)("div",{className:"col-12 form-group mt-3 input__custom",children:[Object(r.jsx)("button",{type:"submit",disabled:v,className:"btn btn-sm btn-primary float-end",children:"Transfer"}),Object(r.jsx)("button",{type:"reset",className:"btn btn-sm btn-danger float-start",onClick:function(t){t.preventDefault(),e.closeModal()},children:"Cancel"})]}),Object(r.jsx)("div",{className:"text-center",children:S&&Object(r.jsx)("span",{className:"px-2 py-1 ".concat(q," "),children:S})})]})})})}},70:function(e,t,a){"use strict";var s=a(2),c=a(1);t.a=function(e){return Object(s.useEffect)((function(){return document.body.classList.add("modal-open"),function(){document.body.classList.remove("modal-open")}}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"modal fade show",id:"create_new_party",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-modal":"true",role:"dialog",style:{display:"block",paddingLeft:"0px"},children:Object(c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg model-content-box",children:Object(c.jsxs)("div",{className:"modal-content rounded-0 ".concat(e.className?e.className:"blue-light-bg"),children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsx)("h3",{className:"modal-title center badge badge-pill badge-warning",id:"exampleModalLabel",children:e.title}),""!=e.sub_title&&Object(c.jsx)("h3",{className:"modal-title right badge badge-dark",id:"exampleModalLabel",children:e.sub_title}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(t){e.closeModal()},children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsx)("div",{className:"modal-body",children:e.children}),Object(c.jsx)("div",{className:"modal-footer"})]})})}),Object(c.jsx)("div",{className:"modal-backdrop fade show"})]})}}}]);