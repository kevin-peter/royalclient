(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[13],{143:function(e,t,a){"use strict";a.r(t);var n=a(11),c=a(17),s=a(16),i=a(3),r=a(6),l=a(7),o=a(2),d=a(5),b=a(8),j=a(18),u=a(28),m=a(72),O=(a(73),a(40)),p=a(76),h=a(88),f=a(87),g=(a(77),a(1));t.default=function(e){var t=Object(o.useContext)(j.b),a=Object(d.p)(),v=a.eventid,x=a.market,N=a.eventtype,w=Object(o.useState)(!1),y=Object(l.a)(w,2),k=y[0],S=y[1],_=Object(o.useState)(!1),C=Object(l.a)(_,2),T=(C[0],C[1],Object(o.useState)([])),E=Object(l.a)(T,2),B=E[0],I=E[1],L=Object(o.useState)([]),M=Object(l.a)(L,2),R=M[0],F=M[1],z=Object(o.useState)([]),P=Object(l.a)(z,2),A=P[0],H=P[1],J=Object(o.useState)([]),q=Object(l.a)(J,2),D=q[0],U=q[1],V=Object(o.useState)([]),G=Object(l.a)(V,2),Y=G[0],K=G[1],Q=Object(o.useState)([]),W=Object(l.a)(Q,2),X=(W[0],W[1]),Z=Object(o.useState)([]),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ae=Object(o.useState)([]),ne=Object(l.a)(ae,2),ce=ne[0],se=ne[1],ie=Object(o.useState)([]),re=Object(l.a)(ie,2),le=re[0],oe=re[1],de=Object(o.useState)([]),be=Object(l.a)(de,2),je=(be[0],be[1]),ue=Object(o.useState)({}),me=Object(l.a)(ue,2),Oe=me[0],pe=me[1],he=Object(o.useState)({}),fe=Object(l.a)(he,2),ge=(fe[0],fe[1],Object(o.useState)("")),ve=Object(l.a)(ge,2),xe=ve[0],Ne=ve[1],we=Object(o.useState)({}),ye=Object(l.a)(we,2),ke=ye[0],Se=ye[1],_e=Object(o.useState)(),Ce=Object(l.a)(_e,2),Te=Ce[0],Ee=Ce[1],Be=Object(o.useState)("alert-success"),Ie=Object(l.a)(Be,2),Le=Ie[0],Me=Ie[1],Re=Object(o.useState)(!1),Fe=Object(l.a)(Re,2),ze=(Fe[0],Fe[1],Object(o.useState)(0)),Pe=Object(l.a)(ze,2),Ae=(Pe[0],Pe[1],Object(o.useState)("")),He=Object(l.a)(Ae,2),Je=(He[0],He[1],Object(o.useState)({})),qe=Object(l.a)(Je,2),De=(qe[0],qe[1],Object(o.useState)({})),Ue=Object(l.a)(De,2);Ue[0],Ue[1];Object(o.useEffect)((function(){Ye(),Ve(),Ge(),Ke();var e=setInterval((function(){Ye(),Ve(),Ke(),Ge()}),2e3);return function(){clearInterval(e)}}),[]);var Ve=function(){var a=Object(r.a)(Object(i.a)().mark((function a(n){var c,s,r;return Object(i.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c={event_id:v,main_market_id:x},(s=new Headers).append("Content-Type","application/json"),s.append("Authorization","Bearer "+t.getItem("jwt")),r={method:"POST",headers:s,redirect:"follow",body:JSON.stringify(c)},fetch("https://api.munimji.co/api/v1/event/getMarketsC",r).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(e){e.data&&I(e.data),e.players&&F(e.players)})).catch((function(e){console.log(e)})).finally((function(){S(!1)}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),Ge=function(){var a=new Headers;a.append("Content-Type","application/json"),a.append("Authorization","Bearer "+localStorage.getItem("jwt"));var n;n={event_id:v,main_market_id:x};var c={method:"POST",headers:a,body:JSON.stringify(n)};fetch("https://api.munimji.co/api/v1/event/getSelRunersSingle",c).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(e){1==e.success&&(te([].concat(Object(s.a)(ee),Object(s.a)(e.confirmedMarkets))),se(e.confirmedPlayers),oe(e.expMarket),je(e.amtTaken),U([].concat(Object(s.a)(D),Object(s.a)(e.data))),K([].concat(Object(s.a)(Y),Object(s.a)(e.data))),X(e.markets),e.bal.length>0&&(t.setItem("bal",e.bal[0].amount),t.setItem("exp",e.bal[0].exposer))),S(!1)})).catch((function(){S(!1)}))},Ye=function(){var a=Object(r.a)(Object(i.a)().mark((function a(n){var c,s,r;return Object(i.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c={event_id:v},(s=new Headers).append("Content-Type","application/json"),s.append("Authorization","Bearer "+t.getItem("jwt")),r={method:"POST",headers:s,redirect:"follow",body:JSON.stringify(c)},fetch("https://api.munimji.co/api/v1/event/getEventStatus",r).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(t){1===t.event_timeout&&e.navigate("/events"),t.data[0]&&H(t.data[0])})).catch((function(e){console.log(e)})).finally((function(){S(!1)}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),Ke=function(){var a=Object(r.a)(Object(i.a)().mark((function a(n){var c,s,r;return Object(i.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c={event_id:v,main_market_id:x},(s=new Headers).append("Content-Type","application/json"),s.append("Authorization","Bearer "+t.getItem("jwt")),r={method:"POST",headers:s,redirect:"follow",body:JSON.stringify(c)},fetch("https://api.munimji.co/api/v1/event/getButtons",r).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(e){e.data&&Ne(e.data)})).catch((function(e){console.log(e)})).finally((function(){}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),Qe=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ee(!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(e,t){pe((function(a){return Object(c.a)(Object(c.a)({},a),{},Object(n.a)({},e,t))}))},Xe=function(){window.history.back()};return k?Object(g.jsx)(u.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"row",children:B.map((function(a,s){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"col-12 col-md-5 p-0",children:Object(g.jsxs)("div",{className:"card",children:[Object(g.jsxs)("div",{className:"card-header text-center",children:[Object(g.jsx)("button",{className:"btn btn-sm btn-secondary float-left",onClick:Xe,children:"Back"}),Object(g.jsxs)("span",{className:"badge badge-pill badge-warning text-border font-weight-bold title-e text-center",children:[Object(g.jsx)(O.b,{className:"w-6 text-dark"}),A.event_name]})]}),Object(g.jsx)("div",{className:"card-body",children:Object(g.jsxs)("div",{className:"col-12 row btn btn-sm btn-light",children:[Object(g.jsxs)("div",{className:"card-title",children:[Object(g.jsx)("span",{className:"float-left title-m badge badge-dark text-center",children:a.market_name}),Object(g.jsxs)("span",{className:"float-right text-danger badge badge-pill badge-warning",children:["Exp: ",le[a.id]?le[a.id]:0]})]}),0==ee.includes(a.id)?null==a.visible||1==a.parent_visible?Object(g.jsxs)("div",{className:"container mt-4",children:[Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col",children:Object(g.jsxs)("ul",{className:"list-group row",children:[Object(g.jsx)("li",{className:"list-group-item list-group-item-info",children:"1ST INNING TOTAL SCORE"}),R.map((function(e,t){return e.market_id==a.id&&1==e.team?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:0!==A.bet_lock||0!=a.parent_locked||""!=Y&&!D.includes(e.id)?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{className:"lock"}),Object(g.jsx)(p.a,{className:"w-6"})]}):Object(g.jsx)(g.Fragment,{children:5==a.main_market_id?Object(g.jsx)(g.Fragment,{children:Array.from({length:10},(function(t,a){return Object(g.jsx)("button",{type:"button",className:"mr-1 mt-1 btn btn-sm "+(ke[e.id]===a?"btn-secondary":"btn-danger"),onClick:function(){return Se(Object(c.a)(Object(c.a)({},ke),{},Object(n.a)({},e.id,a)))},children:a})}))}):4==a.main_market_id?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("input",{placeholder:"ENTER TOTAL SCORE",type:"number",value:ke[e.id]||"",onChange:function(t){return Se(Object(c.a)(Object(c.a)({},ke),{},Object(n.a)({},e.id,t.target.value)))},maxLength:"150",className:"ml-1 mb-2 text-center w-75",required:!0})}):null})},e.id)}):null}))]})},s)},s),Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col mt-2 ",children:0===A.bet_lock&&0==a.parent_locked?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsx)("button",{className:"btn btn-sm btn-dark mr-1 ",onClick:function(e){return t=a.id,s=Oe[a.id],s-=1,void pe((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(n.a)({},t,s))}));var t,s},children:"-"}),Object(g.jsx)("input",{placeholder:"Bet Amount",type:"number",value:Oe[a.id],onChange:function(e){return We(a.id,e.target.value)},maxLength:"50",className:"mb-2 text-center w-50",required:!0}),Object(g.jsx)("button",{className:"btn btn-sm btn-dark ml-1 ",onClick:function(e){return t=a.id,s=Oe[a.id],s+=1,void pe((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(n.a)({},t,s))}));var t,s},children:"+"})]}),Object(g.jsx)("div",{className:"text-center",children:xe&&xe.map((function(e,t){return Object(g.jsx)("button",{type:"button",className:"mr-1 mt-1 btn btn-sm "+(Oe[a.id]==e.b_value?"btn-warning":"btn-dark"),onClick:function(){return We(a.id,e.b_value)},children:e.b_name})}))}),Object(g.jsx)("div",{className:"text-center mt-2",children:Object(g.jsx)(b.b,{to:"#",className:"btn btn-lg btn-success btn-outline-red btn-block",onClick:function(){return function(a){if(!ke[R[0].id])return Ee("Empty selection box, Select 1st Inning Total Score Last Digit!"),Me("alert-danger"),!1;if(!Oe[a.id])return Ee("Bet amount required!"),Me("alert-danger"),!1;S(!0);var n=new Headers;n.append("Content-Type","application/json"),n.append("Authorization","Bearer "+t.getItem("jwt"));var c={event_id:v,market_id:a.id,event_name:A.event_name,lastDigit:ke[R[0].id],amount:Oe[a.id],eventtype:N,main_market_id:a.main_market_id,selection:!1},s={method:"POST",headers:n,body:JSON.stringify(c)};fetch("https://api.munimji.co/api/v1/event/confirmPlayers",s).then((function(t){if(200===t.status&&Me("alert-success"),403!==t.status)return t.json();e.navigate("/login")})).then((function(e){Ve(),Ge(),Ee(e.message),e.success||Me("alert-danger")})).catch((function(e){console.log(e)})).finally((function(){S(!1)}))}(a)},disabled:!0,children:"Bet Place "})})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(b.b,{to:"#",className:"btn btn-lg btn-dark float-left btn-block disabled",children:[Object(g.jsx)(p.a,{className:""}),"Bet Place"]})})})})]},s):Object(g.jsx)("div",{className:"container mt-4",children:"This Market unavailable to bet."}):Object(g.jsx)("div",{className:"container mt-4",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-12",children:Object(g.jsxs)("ul",{className:"list-group",children:[Object(g.jsx)("li",{className:"list-group-item list-group-item-info",children:"User (Your Selection)"}),ce.map((function(e,t){return e.market_id==a.id&&"user"==e.type?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("li",{className:"list-group-item list-group-item-info d-flex justify-content-between align-items-center",children:[Object(g.jsx)(h.a,{className:"w-6 text-success"}),Object(g.jsx)("i",{className:"badge badge-danger badge-pill",children:e.run_digit}),"-",Object(g.jsx)("i",{className:"",children:e.runner_name}),Object(g.jsx)(f.a,{className:"w-6 text-success"})]})}):null}))]})},s),Object(g.jsx)("div",{className:"col mt-1",children:Object(g.jsxs)("i",{className:"text-success",children:["Player Confirmed"," ",Object(g.jsx)(h.a,{className:"w-6 text-success"})]})})]},s)},s)]},s)},s)]},s)},s)})}))},"markets"),Te&&Object(g.jsx)(m.a,{message:Te,closeMessage:Qe,className:Le})]})}},70:function(e,t,a){"use strict";var n=a(2),c=a(1);t.a=function(e){return Object(n.useEffect)((function(){return document.body.classList.add("modal-open"),function(){document.body.classList.remove("modal-open")}}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"modal fade show",id:"create_new_party",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-modal":"true",role:"dialog",style:{display:"block",paddingLeft:"0px"},children:Object(c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg model-content-box",children:Object(c.jsxs)("div",{className:"modal-content rounded-0 ".concat(e.className?e.className:"blue-light-bg"),children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsx)("h3",{className:"modal-title center badge badge-pill badge-warning",id:"exampleModalLabel",children:e.title}),""!=e.sub_title&&Object(c.jsx)("h3",{className:"modal-title right badge badge-dark",id:"exampleModalLabel",children:e.sub_title}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(t){e.closeModal()},children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsx)("div",{className:"modal-body",children:e.children}),Object(c.jsx)("div",{className:"modal-footer"})]})})}),Object(c.jsx)("div",{className:"modal-backdrop fade show"})]})}},72:function(e,t,a){"use strict";a(2);var n=a(1);t.a=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"alert ".concat(e.className?e.className:"alert-success"," alert-dismissible slideUp show "),role:"alert",style:{position:"fixed",width:"auto",right:"10px",bottom:"0"},children:[e.message,Object(n.jsx)("button",{onClick:e.closeMessage,type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",style:{padding:"7px"},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})}},73:function(e,t,a){"use strict";a(7),a(2),a(70),a(18),a(1)},76:function(e,t,a){"use strict";var n=a(2);var c=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}))}));t.a=c},87:function(e,t,a){"use strict";var n=a(2);var c=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}));t.a=c},88:function(e,t,a){"use strict";var n=a(2);var c=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))}));t.a=c}}]);