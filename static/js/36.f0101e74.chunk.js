(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[36],{160:function(e,t,a){"use strict";a.r(t);var r=a(16),n=a(17),s=a(7),c=a(2),l=a(18),i=a(1);t.default=function(e){var t=Object(c.useContext)(l.b),a=Object(c.useState)(""),o=Object(s.a)(a,2),u=o[0],d=o[1],b=Object(c.useState)(""),p=Object(s.a)(b,2),m=p[0],j=p[1],h=Object(c.useState)(""),x=Object(s.a)(h,2),f=x[0],g=x[1],O=Object(c.useState)(""),y=Object(s.a)(O,2),w=y[0],N=y[1],v=Object(c.useState)(""),k=Object(s.a)(v,2),C=k[0],S=k[1],P=Object(c.useState)(0),_=Object(s.a)(P,2),L=_[0],R=_[1],I=Object(c.useState)(t.getItem("balance")),q=Object(s.a)(I,2),T=q[0],A=q[1],U=Object(c.useState)(t.getItem("balance")),V=Object(s.a)(U,1)[0],E=Object(c.useState)(t.getItem("client_play_mods")),M=Object(s.a)(E,1)[0],J=Object(c.useState)(t.getItem("client_play_mods")),z=Object(s.a)(J,2),D=z[0],F=z[1],B=Object(c.useState)(!1),G=Object(s.a)(B,2),H=G[0],Y=G[1],K=Object(c.useState)(""),Q=Object(s.a)(K,2),W=Q[0],X=Q[1],Z=Object(c.useState)(5),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)(""),re=Object(s.a)(ae,2),ne=re[0],se=re[1],ce=[{id:"",text:"Select Role"}];e.role&&e.role<=3&&ce.push({id:3,text:"SUPER MASTER"}),e.role&&e.role<4&&ce.push({id:4,text:"MASTER"}),e.role&&e.role<5&&ce.push({id:5,text:"PLAYER"}),e.role&&e.role<5&&ce.push({id:6,text:"CUTTING"}),Object(c.useEffect)((function(){for(var e=Object(r.a)(D),t=0;t<e.length;t++)e[t].upline=100-e[t].our,e[t].max=e[t].our;F(Object(r.a)(e))}),[]);var le=D.map((function(e,t){return Object(i.jsx)("table",{className:"table table-bordered table-sm col-span-12 md:col-span-4 bg-primary-200 dark:bg-primary-900 border border-primary-700",children:Object(i.jsxs)("tbody",{children:[Object(i.jsxs)("tr",{className:"bg-white dark:bg-primary-700",children:[Object(i.jsx)("th",{className:"text-center",children:"Position"}),Object(i.jsx)("th",{className:"text-center",children:Object(i.jsxs)("div",{className:"form-check",children:[Object(i.jsx)("input",{className:"form-check-input",tabIndex:-1,defaultChecked:!0,value:!(D.length>0)||D[t].active,type:"checkbox",onChange:function(){!function(e,t){var a=D.map((function(a){return a.mode_id===e?Object(n.a)(Object(n.a)({},a),{},{active:t}):a}));F(a)}(e.mode_id,!D[t].active)}}),Object(i.jsx)("label",{className:"form-check-label ms-1",children:e.play})]})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"text-center",children:"Up-line"}),Object(i.jsx)("td",{className:"text-center",children:Object(i.jsx)("label",{children:D.length>0?e.upline:""})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"text-center",children:"Down-line"}),Object(i.jsx)("td",{className:"text-right",children:Object(i.jsx)("div",{className:"input-field col s12 m12 no-margin",children:Object(i.jsx)("input",{type:"number",min:"0",max:D.length>0?e.max:"",value:e.downline?e.downline:"",onChange:function(a){var n=Object(r.a)(D),s=Object(r.a)(M.filter((function(t){return t.mode_id===e.mode_id})));n[t].downline=a.target.value,s.length>0&&(n[t].our=s[0].our-a.target.value),F(Object(r.a)(n))},className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700 text-center border-b",readOnly:!ee||Number(ee)>4,required:Number(ee)<5,tabIndex:Number(ee)>4?-1:0,placeholder:"Client Part"})})})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"text-center",children:"Own"}),Object(i.jsx)("td",{className:"text-center",children:Object(i.jsx)("label",{children:D.length>0?e.our:""})})]})]})})}));return Object(i.jsx)("div",{className:"col-span-12",children:Object(i.jsx)("form",{className:"bg-primary-200 dark:bg-secondary-700 opacity-95 inline-block p-2 my-1 overflow-hidden text-left align-middle transition-all transform w-full",autoComplete:"off",onSubmit:function(t){t.preventDefault();var a=new Headers;a.append("Content-Type","application/json"),a.append("Authorization","Bearer "+localStorage.getItem("jwt"));var r={method:"POST",headers:a,body:JSON.stringify({admin_password:w,email:m,free_chip:L,mobile:ne,name:u,partArr:D,u_role:Number(ee),remark:f,password:C})};fetch("https://api.munimji.co/api/v1/user/adduser",r).then((function(e){if(401!==e.status)return e.json();Y(!1)})).then((function(t){t&&t.success?e.modelClose(1,t.message):(X(t.message),setTimeout((function(e){X("")}),2e3)),Y(!1)})).catch((function(e){Y(!1)}))},children:Object(i.jsxs)("div",{className:"grid grid-cols-12 gap-1 text-blue-900 dark:text-blue-300  px-1 py-1",children:[Object(i.jsxs)("div",{className:"col-span-6",children:[Object(i.jsx)("label",{children:"Name"}),Object(i.jsx)("input",{maxLength:"100",placeholder:"Name",type:"text",required:!0,defaultValue:u,onChange:function(e){return d(e.target.value)},className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700"})]}),Object(i.jsxs)("div",{className:"col-span-6",children:[Object(i.jsx)("label",{children:"Username"}),Object(i.jsx)("input",{className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700",placeholder:"Username",type:"text",value:m,onChange:function(e){return j(e.target.value)},pattern:"[^\\s]+",title:"please dont use the white space :)",maxLength:"12",autoComplete:"off",required:!0})]}),Object(i.jsxs)("div",{className:"col-span-6",children:[Object(i.jsx)("label",{children:"Password"}),Object(i.jsx)("input",{className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700",placeholder:"Password",type:"password",onChange:function(e){return S(e.target.value)},value:C,autoComplete:"off",minLength:"6",maxLength:"20",required:!0})]}),Object(i.jsxs)("div",{className:"col-span-6",children:[Object(i.jsx)("label",{children:"Retype Password"}),Object(i.jsx)("input",{className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700",placeholder:"Retype Password",type:"password",onChange:function(e){e.target.value!==C?e.target.setCustomValidity("Password and retype password not match"):e.target.setCustomValidity("")},autoComplete:"off",minLength:"6",maxLength:"20",required:!0})]}),Object(i.jsxs)("div",{className:"col-span-6",children:[Object(i.jsx)("label",{children:"User Type"}),Object(i.jsx)("select",{name:"userstype",className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700",onChange:function(e){var t=Object(r.a)(D);if(Number(e.target.value)>4)for(var a=0;a<t.length;a++)delete t[a].downline,t[a].our=t[a].max;F(Object(r.a)(t)),te(e.target.value)},required:!0,children:ce.map((function(e,t){return Object(i.jsx)("option",{value:e.id,children:e.text},t)}))})]}),Object(i.jsxs)("div",{className:"col-span-6",children:[Object(i.jsx)("label",{children:"Remark"}),Object(i.jsx)("input",{maxLength:"100",placeholder:"Reference",type:"text",defaultValue:f,onChange:function(e){return g(e.target.value)},className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700"})]}),Object(i.jsxs)("div",{className:"col-span-6",children:[Object(i.jsx)("label",{children:"Free Chips"}),Object(i.jsx)("input",{className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700",placeholder:"Free Chip",type:"number",onChange:function(e){R(e.target.value),A(parseInt(V-e.target.value))},min:"0",max:V,required:!0})]}),Object(i.jsxs)("div",{className:"col-span-6 text-right",children:[Object(i.jsx)("label",{children:"Remaining Chips"}),Object(i.jsx)("p",{className:"text-green-600 font-semibold",children:T})]}),le.length>0&&le,Object(i.jsxs)("div",{className:"col-span-6",children:[Object(i.jsx)("label",{children:"Mobile Number"}),Object(i.jsx)("input",{maxLength:"100",placeholder:"Mobile Number",type:"text",autoComplete:"off",defaultValue:ne,onChange:function(e){return se(e.target.value)},className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700"})]}),Object(i.jsxs)("div",{className:"col-span-6",children:[Object(i.jsx)("label",{children:"Admin Password"}),Object(i.jsx)("input",{maxLength:"100",placeholder:"Admin Password",type:"password",autoComplete:"off",required:!0,defaultValue:w,onChange:function(e){return N(e.target.value)},className:"focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent w-full py-2 px-4 text-primary-800 dark:text-white mb-2 bg-white dark:bg-primary-700"})]}),Object(i.jsxs)("div",{className:"col-span-12",children:[Object(i.jsx)("button",{type:"submit",disabled:H,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded-full focus:outline-none float-right",children:"Create"}),Object(i.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded-full focus:outline-none",onClick:e.modelClose,children:"Cancel"})]}),Object(i.jsx)("div",{className:"flex flex-wrap content-center text-white text-center font-semibold",children:W&&Object(i.jsx)("p",{className:"w-full max-w-sm z-20 fixed bottom-1 left-1/2 transform -translate-x-1/2  leading-10 bg-red-500",children:W})})]})})})}}}]);