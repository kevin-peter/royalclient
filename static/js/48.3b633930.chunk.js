(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[48],{170:function(e,t,s){"use strict";s.r(t);var l=s(17),a=s(9),c=s(10),n=s(13),r=s(14),i=s(2),d=s.n(i),o=s(28),j=s(16),p=s(1),b=d.a.lazy((function(){return Promise.all([s.e(2),s.e(1),s.e(29)]).then(s.bind(null,107))})),x=d.a.lazy((function(){return s.e(27).then(s.bind(null,159))})),m=d.a.lazy((function(){return s.e(4).then(s.bind(null,134))})),h=d.a.lazy((function(){return s.e(6).then(s.bind(null,130))})),u=d.a.lazy((function(){return s.e(7).then(s.bind(null,132))})),O=d.a.lazy((function(){return s.e(5).then(s.bind(null,133))})),N=function(e){if(Object(i.useEffect)((function(){var t=function(){e.modelClose("","",!0)};return window.addEventListener("popstate",t),function(){window.removeEventListener("popstate",t)}}),[]),e.modeltype&&"ms"===e.modeltype)return Object(p.jsx)(d.a.Suspense,{fallback:Object(p.jsx)(o.a,{}),children:Object(p.jsx)(b,{modelClose:e.modelClose,title:e.mtitle,children:Object(p.jsx)(m,Object(l.a)(Object(l.a)({},e),{},{modelClose:e.modelClose,user:e.user}))})});if(e.modeltype&&("wd"===e.modeltype||"dp"===e.modeltype))return Object(p.jsx)(d.a.Suspense,{fallback:Object(p.jsx)(o.a,{}),children:Object(p.jsx)(b,{modelClose:e.modelClose,title:e.mtitle,children:Object(p.jsx)(u,Object(l.a)(Object(l.a)({},e),{},{modeltype:e.modeltype,modelClose:e.modelClose,mtitle:e.mtitle,user:e.user}))})});if(e.modeltype&&("withdraw"===e.modeltype||"deposit"===e.modeltype))return Object(p.jsx)(d.a.Suspense,{fallback:Object(p.jsx)(o.a,{}),children:Object(p.jsx)(b,{modelClose:e.modelClose,title:e.mtitle,children:Object(p.jsx)(O,Object(l.a)(Object(l.a)({},e),{},{modeltype:e.modeltype,modelClose:e.modelClose,mtitle:e.mtitle,user:e.user}))})});if(e.modeltype&&"cs"===e.modeltype){var t=[{play:"Select Mode",visible:1,id:0}].concat(Object(j.a)(e.play_mods));return Object(p.jsx)(d.a.Suspense,{fallback:Object(p.jsx)(o.a,{}),children:Object(p.jsx)(b,{modelClose:e.modelClose,title:e.mtitle,children:Object(p.jsx)(h,{modes:t,user:e.user,modelClose:e.modelClose})})})}return e.modeltype&&"aduser"===e.modeltype?Object(p.jsx)(d.a.Suspense,{fallback:Object(p.jsx)(o.a,{}),children:Object(p.jsx)(b,{modelClose:e.modelClose,title:e.mtitle,children:Object(p.jsx)(x,Object(l.a)(Object(l.a)({},e),{},{user:e.user,modelClose:e.modelClose}))})}):void 0},_=s(18),f=function(e){Object(n.a)(s,e);var t=Object(r.a)(s);function s(e){var c;return Object(a.a)(this,s),(c=t.call(this,e)).setPl=function(e){var t=e.up_line<0&&e.u_role<5||e.up_line>0&&e.u_role>4?"withdraw":"deposit",s=e.up_line<0&&e.u_role<5||e.up_line>0&&e.u_role>4?"Deposit to Pocket Of ".concat(e.p_code):"Withdraw from Pocket Of ".concat(e.p_code);c.setState({modeltype:t,ptitle:s,modeluser:e}),window.history.pushState({dummyUrl:!0},null,null)},c.handleSubmit=function(){var e=new Headers,t={method:"POST",headers:e,body:new URLSearchParams,redirect:"follow"};c.setState({s_disabled:!0,loading:!0}),e.append("Authorization","Bearer "+localStorage.getItem("jwt")),fetch("https://api.royalrunbet.com/api/v1/user/getusers",t).then((function(e){if(401!==e.status)return e.json();window.location.href="/login"})).then((function(e){if(e&&e.data){for(var t=[],s=[],a=0,n=0,r=0,i=0,d=0;d<e.data.length;d++)e.data[d].up_line&&(e.data[d].up_line&&Number(e.data[d].up_line)<0?Number(e.data[d].u_role)<5?(t.push(Object(l.a)({},e.data[d])),a+=Number(e.data[d].up_line)):(s.push(Object(l.a)({},e.data[d])),n+=Number(-1*e.data[d].up_line)):Number(e.data[d].u_role)<5?(s.push(Object(l.a)({},e.data[d])),n+=Number(e.data[d].up_line)):(t.push(Object(l.a)({},e.data[d])),a+=Number(-1*e.data[d].up_line)));e.profile&&Number(e.profile.up_line)<0&&(n+=-1*Number(e.profile.up_line)),e.profile&&Number(e.profile.up_line)>0&&(a+=-1*Number(e.profile.up_line)),Math.abs(n)<Math.abs(a)&&(r=Math.abs(a)-Math.abs(n)),Math.abs(a)<Math.abs(n)&&(i=Math.abs(a)-Math.abs(n));var o=0,j=0,p=0,b=0;e.profile.pocket>0?b+=Number(e.profile.pocket):p+=Number(e.profile.pocket),e.profile.net_pl<0?j+=-1*Number(e.profile.net_pl):o+=-1*Number(e.profile.net_pl),Math.abs(e.profile.net_pl),Math.abs(e.profile.pocket),n+=j,a+=o,n+=b,a+=p,c.setState({ac_data:e.data,profile:e.profile,p_data:t,n_data:s,p_net_pl:o,n_net_pl:j,p_net_pocket:p,n_net_pocket:b,p_total:a.toFixed(2),n_total:n.toFixed(2),n_sri:r.toFixed(2),p_sri:i.toFixed(2)})}})).catch((function(e){console.log(e)})).finally((function(){c.setState({s_disabled:!1,more_disable:!1,loading:!1})}))},c.searchUser=function(e){e.preventDefault(),c.state.sw.length>1&&window.find(c.state.sw)},c.componentDidMount=function(){c.handleSubmit();var e=setInterval((function(){c.handleSubmit()}),4e3);return function(){clearInterval(e)}},c.closePopUp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";c.setState({settl:!1,message:t,alertclass:e},(function(){t&&c.handleSubmit(),setTimeout((function(){c.setState({message:"",alertclass:""})}),2e3)}))},c.modelClose=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";arguments.length>2&&void 0!==arguments[2]&&arguments[2]||window.history.go(-1),"aduser"!==c.state.modeltype&&"wd"!==c.state.modeltype&&"withdraw"!==c.state.modeltype&&"dp"!==c.state.modeltype&&"deposit"!==c.state.modeltype||c.handleSubmit(),c.setState({modeltype:!1,mode:!1,modeluser:!1,message:t,alertclass:e},(function(){setTimeout((function(){c.setState({message:""})}),2e3)}))},c.state={loading:!1,ac_data:[],p_data:[],n_data:[],profile:{},p_total:0,n_total:0,n_sri:0,p_sri:0,sw:"",settl:!1,m_ttl:"",m_uname:"",user_chips:0,cpf:!1,m_uid:"",s_amt:0,message:"",alertclass:"",modeltype:!1},c}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=this.context;return Object(p.jsxs)(d.a.Fragment,{children:[Object(p.jsx)("div",{className:"py-2 md:px-2"}),Object(p.jsx)("div",{className:"font-semibold  text-sm row",children:Object(p.jsxs)("div",{className:"col-12",children:[Object(p.jsx)("h1",{className:"text-center",children:"-: Chip Summary :-"}),Object(p.jsx)("div",{className:"table-responsive mt-2",children:Object(p.jsxs)("table",{className:"table table-bordered table-striped table-sm report-table",children:[Object(p.jsx)("thead",{className:"text-success",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{className:"text-center",children:"UT"}),Object(p.jsx)("th",{className:"px-2 py-1 text-left",children:"USERNAME"}),Object(p.jsx)("th",{width:"20%",className:"px-2 py-1 text-right",children:"CHIP"}),Object(p.jsx)("th",{width:"30%",children:"Action"})]})}),Object(p.jsxs)("tbody",{children:[this.state.p_data.map((function(s,a){return Object(p.jsxs)("tr",{className:"text-success",children:[Object(p.jsxs)("td",{className:"text-center",children:[5===s.u_role&&Object(p.jsx)("button",{className:"rounded-sm px-1",children:"C"}),4===s.u_role&&Object(p.jsx)("button",{className:"btn btn-sm btn-info",children:"M"}),3===s.u_role&&Object(p.jsx)("button",{className:"btn btn-sm btn-dark",children:"SM"})]}),Object(p.jsx)("td",{className:"px-2 py-1",children:Object(p.jsxs)("span",{title:s.name,children:[s.p_code," [",s.name,"]"]})}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:Object(p.jsx)("span",{role:"button",onClick:function(){e.setPl(s)},className:"text-right",children:s.u_role<5?-1*s.up_line:s.up_line})}),Object(p.jsxs)("td",{className:"px-2 py-1 text-center",children:[Object(p.jsx)("p",{role:"button",onClick:function(){e.setPl(s)},className:"btn btn-sm btn-info py-0.5",children:"SETTLEMENT"}),Object(p.jsx)("p",{role:"button",onClick:function(){var a=Object(l.a)({},s);a.filter={ac_type:"settlement"},t.setItem("active_user",a),e.props.navigate("/ac")},className:"bg-black",children:"HISTORY"})]})]},a)})),0!==this.state.p_net_pl&&Object(p.jsxs)("tr",{className:"text-success",children:[Object(p.jsx)("td",{className:"text-center",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-1",children:"Own P/L"}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:Object(p.jsx)("span",{role:"button",className:"text-center pl",children:-1*this.state.p_net_pl})}),Object(p.jsx)("td",{})]}),0!==this.state.p_net_pocket&&Object(p.jsxs)("tr",{className:"text-success",children:[Object(p.jsx)("td",{className:"text-center",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-1",children:"Own Chip"}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:Object(p.jsx)("span",{role:"button",className:"text-center ownChip",children:-1*this.state.p_net_pocket})}),Object(p.jsx)("td",{className:"text-center",children:Object(p.jsx)("p",{role:"button",onClick:function(){var s={filter:{ac_type:"settlement"}};t.setItem("active_user",s),e.props.navigate("/ac")},className:"bg-black text-dark",children:"HISTORY"})})]}),this.state.profile.up_line&&this.state.profile.up_line>0&&Object(p.jsxs)("tr",{className:"text-success",children:[Object(p.jsx)("td",{className:"text-center",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-1",children:"Parent P/L"}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:Object(p.jsx)("span",{role:"button",className:"text-center",children:this.state.profile.up_line})}),Object(p.jsx)("td",{})]}),this.state.p_sri<0&&Object(p.jsxs)("tr",{className:"text-success",children:[Object(p.jsx)("td",{className:"text-center",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-1",children:"My Running P/L"}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:Object(p.jsx)("span",{role:"button",className:"text-center rPL",children:"3356"})}),Object(p.jsx)("td",{className:"text-center"})]}),Object(p.jsxs)("tr",{className:"text-success",children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:"TOTAL"}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:Object(p.jsx)("span",{role:"button",className:"text-center ptotal",children:"3483"})}),Object(p.jsx)("td",{})]})]})]})}),Object(p.jsx)("div",{className:"table-responsive mt-2",children:Object(p.jsxs)("table",{className:"table table-bordered table-striped table-sm report-table",children:[Object(p.jsx)("thead",{className:"text-danger",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{className:"text-center",children:"UT"}),Object(p.jsx)("th",{className:"px-2 py-1 text-left",children:"USERNAME"}),Object(p.jsx)("th",{width:"20%",className:"px-2 py-1 text-right",children:"CHIP"}),Object(p.jsx)("th",{width:"30%",children:"Action"})]})}),Object(p.jsxs)("tbody",{children:[this.state.n_data.map((function(s,a){return Object(p.jsxs)("tr",{className:"text-danger",children:[Object(p.jsxs)("td",{className:"text-center",children:[5===s.u_role&&Object(p.jsx)("button",{className:"rounded-sm px-1 py-0.5 text-dark",children:"C"}),4===s.u_role&&Object(p.jsx)("button",{className:"rounded-sm px-1",children:"M"}),3===s.u_role&&Object(p.jsx)("button",{className:"btn btn-sm btn-dark",children:"SM"})]}),Object(p.jsx)("td",{className:"px-2 py-1",children:Object(p.jsxs)("span",{title:s.name,children:[s.p_code," [",s.name,"]"]})}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:Object(p.jsx)("span",{role:"button",onClick:function(){e.setPl(s)},className:"text-center",children:s.u_role<5?-1*s.up_line:s.up_line})}),Object(p.jsxs)("td",{className:"px-2 py-1 text-center",children:[Object(p.jsx)("p",{role:"button",onClick:function(){e.setPl(s)},className:"btn btn-sm btn-info",children:"SETTLEMENT"}),Object(p.jsx)("p",{role:"button",onClick:function(){var a=Object(l.a)({},s);a.filter={ac_type:"settlement"},t.setItem("active_user",a),e.props.navigate("/ac")},className:"btn btn-sm btn-secondary py-0.5",children:"HISTORY"})]})]},a)})),this.state.profile.up_line&&this.state.profile.up_line<0&&Object(p.jsxs)("tr",{className:"text-danger bg-white",children:[Object(p.jsx)("td",{className:"text-center",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-1",children:"Parent P/L"}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:Object(p.jsx)("span",{role:"button",className:"text-center",children:this.state.profile.up_line})}),Object(p.jsx)("td",{})]}),0!==this.state.n_net_pl&&Object(p.jsxs)("tr",{className:"text-danger",children:[Object(p.jsx)("td",{className:"text-center",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-1",children:"Own P/L"}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:Object(p.jsx)("span",{role:"button",className:"text-center",children:-1*this.state.n_net_pl})}),Object(p.jsx)("td",{})]}),0!==this.state.n_net_pocket&&Object(p.jsxs)("tr",{className:"text-danger",children:[Object(p.jsx)("td",{className:"text-center",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:"Own Chip"}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:Object(p.jsx)("span",{role:"button",className:"text-base",children:-1*this.state.n_net_pocket})}),Object(p.jsx)("td",{className:"text-center",children:Object(p.jsx)("p",{role:"button",onClick:function(){var s={filter:{ac_type:"settlement"}};t.setItem("active_user",s),e.props.navigate("/ac")},className:"bg-black",children:"HISTORY"})})]}),this.state.n_sri>0&&Object(p.jsxs)("tr",{className:"text-danger",children:[Object(p.jsx)("td",{className:"text-center",children:"#"}),Object(p.jsx)("td",{className:"px-2 py-1",children:"My Running P/L"}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:Object(p.jsx)("span",{role:"button",className:"text-center rPL",children:-1*this.state.n_sri})}),Object(p.jsx)("td",{className:"text-center"})]}),Object(p.jsxs)("tr",{className:"text-danger",children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:"TOTAL"}),Object(p.jsx)("td",{className:"px-2 py-1 text-right",children:Object(p.jsx)("span",{role:"button",className:"text-center total",children:"3483"})}),Object(p.jsx)("td",{})]})]})]})})]})}),this.state.loading&&Object(p.jsx)(o.a,{}),this.state.modeltype&&Object(p.jsx)(N,Object(l.a)(Object(l.a)({},this.props),{},{modelClose:this.modelClose,mtitle:this.state.ptitle,user:this.state.modeluser,modeltype:this.state.modeltype}))]})}}]),s}(i.Component);f.contextType=_.b;t.default=f}}]);