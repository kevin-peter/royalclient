(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[42],{157:function(t,e,r){"use strict";r.r(e);var n=r(17),a=r(3),c=r(6),u=r(7),s=r(2),i=r(108),o=r(1);e.default=function(t){var e={mid:t.marketid,h:"",a:"",h1:{r:0,w:0,o:0,b:0,cr:0,rr:0},h2:{r:0,w:0,o:0,b:0,cr:0,rr:0},a1:{r:0,w:0,o:0,b:0,cr:0,rr:0},a2:{r:0,w:0,o:0,b:0,cr:0,rr:0},lst:"a1",act:"h1",p_o:[],lb:[],st:"",ns:"",bl:"",com:"",tbls:120},r=Object(s.useState)(e),p=Object(u.a)(r,2),f=p[0],b=p[1],l=Object(s.useState)(!1),v=Object(u.a)(l,2),j=v[0],O=v[1],d=Object(s.useState)(!1),h=Object(u.a)(d,2),w=(h[0],h[1]),x=Object(s.useState)(""),k=Object(u.a)(x,2),m=(k[0],k[1]),y=Object(s.useState)(null),I=Object(u.a)(y,2),g=I[0],D=I[1],K=Object(s.useRef)(null);Object(s.useEffect)((function(){var e=function(){var e=Object(c.a)(Object(a.a)().mark((function e(r){var n,c,u;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!0),(n=new Headers).append("Content-Type","application/json"),n.append("Authorization","Bearer "+localStorage.getItem("jwt")),c={event_id:t.eventid,market_id:t.marketid},u={method:"POST",headers:n,body:JSON.stringify(c)},fetch("https://api.munimji.co/api/v1/event/getrunner",u).then((function(e){if(403!==e.status)return e.json();t.navigate("/login")})).then((function(t){if(t.data){var e="";t.data.length>0&&(e+=t.data[0].name),t.data.length>1&&(e+=" vs ",e+=t.data[1].name),e&&m(e)}})).catch((function(t){console.log(t)})).finally((function(){w(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e()}),[]),Object(s.useEffect)((function(){var e=Object(i.a)("https://api.munimji.co/",{transports:["websocket"],upgrade:!1},{secure:!0});return e.on("connection",(function(){g||e.emit("subscribe_score",{mid:[t.marketid]})})),e.on("score",function(){var e=Object(c.a)(Object(a.a)().mark((function e(r){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.mid!==t.marketid||j||(r&&null!==r&&b(r),O(!0));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.on("html_score",function(){var t=Object(c.a)(Object(a.a)().mark((function t(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K&&K.current&&(K.current.contentWindow.document.open(),K.current.contentWindow.document.write(e),K.current.contentWindow.document.close());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),D(e),function(){g&&g.disconnect()}}),[]);var S=function(){var t=Object(c.a)(Object(a.a)().mark((function t(e){var r,c,u,s,i=arguments;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:0,c=i.length>2&&void 0!==i[2]?i[2]:"",t.prev=2,u=Object(n.a)({},f),s=!1,!(parseInt(u[u.act].b)+6*parseInt(u[u.act].o)>parseInt(u.tbls)-1)){t.next=7;break}throw new Error("Over Game Or Increser Balls");case 7:if(u[u.act].b%6!==0||c){t.next=11;break}return t.next=10,T(u);case 10:u=t.sent;case 11:if(!z.includes(e)){t.next=15;break}return t.next=14,E(u);case 14:u=t.sent;case 15:if(0!==r){t.next=19;break}return t.next=18,B(u);case 18:u=t.sent;case 19:if(!(u.act in u)||6!==u[u.act].b){t.next=29;break}return t.next=22,F(u);case 22:return u=t.sent,t.next=25,C(u);case 25:u=t.sent,e%2===0&&z.indexOf(e)%2!==0&&(s=!0),t.next=30;break;case 29:e%2!==0&&z.indexOf(e)%2!==0&&(s=!0);case 30:return t.next=32,M(e+c,u);case 32:return u=t.sent,t.next=35,J(e,r,u);case 35:return u=t.sent,t.next=38,L(u);case 38:return u=t.sent,t.next=41,W(u);case 41:return u=t.sent,t.next=44,_(s,u);case 44:return u=t.sent,b(u),A(u),t.abrupt("return",u);case 50:t.prev=50,t.t0=t.catch(2),alert(t.t0);case 53:return t.prev=53,t.abrupt("return");case 56:case"end":return t.stop()}}),t,null,[[2,50,53,56]])})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(c.a)(Object(a.a)().mark((function t(){var e,r,n,c=arguments;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]&&c[0],n=(r=c.length>1?c[1]:void 0).st,e&&(r.st=r.ns,r.ns=n),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(c.a)(Object(a.a)().mark((function t(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e[f.act].w+=1,t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=Object(c.a)(Object(a.a)().mark((function t(e){var r,n,c=arguments;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:0,(n=c.length>2?c[2]:void 0).act in n&&(n[n.act].r=parseInt(n[n.act].r)+parseInt(e)+parseInt(r)),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(c.a)(Object(a.a)().mark((function t(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.act in f&&(e[e.act].cr=6*parseInt(e[e.act].r)/(6*parseInt(e[e.act].o)+parseInt(e[e.act].b)).toFixed(2),e[e.act].cr=Math.round(100*e[e.act].cr)/100),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=function(){var t=Object(c.a)(Object(a.a)().mark((function t(e){var r,n,c;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.act in e&&(0,0,c=0,"h1"===e.act&&parseInt(e.a1.r)>0?c=parseInt(e.a1.r)+parseInt(e.a2.r):"a1"===e.act&&parseInt(e.h1.r)>0&&(c=parseInt(e.h1.r)+parseInt(e.h2.r)),r=parseInt(c-e[e.act].r)+1,n=parseInt(parseInt(e.tbls)-(6*parseInt(e[e.act].o)+parseInt(e[e.act].b))),c>0&&parseInt(6*r/n)>0?(e[e.act].rr=6*r/n,e[e.act].rr=Math.round(100*e[e.act].rr)/100):e[e.act].rr=0),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(){var t=Object(c.a)(Object(a.a)().mark((function t(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.act in e&&(e[e.act].b+=parseInt(1)),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(c.a)(Object(a.a)().mark((function t(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e[e.act].o+=parseInt(1),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){var t=Object(c.a)(Object(a.a)().mark((function t(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e[e.act].b=0,t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(){var t=Object(c.a)(Object(a.a)().mark((function t(e,r){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.lb.push(e),t.abrupt("return",r);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),T=function(){var t=Object(c.a)(Object(a.a)().mark((function t(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.p_o=e.lb,e.lb=[],t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=["0w","1w","2w","3w","4w","5w","6w"],A=function(){var e=Object(c.a)(Object(a.a)().mark((function e(r){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.emit("set_score",{mid:t.marketid,score:r}),e.abrupt("return");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var t=function(){var t=Object(c.a)(Object(a.a)().mark((function t(e){var r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(48!==(r=e.keyCode)||!e.ctrlKey){t.next=7;break}return e.preventDefault(),t.next=5,S(0,0);case 5:case 11:case 17:case 23:case 29:case 35:case 41:case 47:case 53:t.next=59;break;case 7:if(49!==r||!e.ctrlKey){t.next=13;break}return e.preventDefault(),t.next=11,S(1,0);case 13:if(50!==r||!e.ctrlKey){t.next=19;break}return e.preventDefault(),t.next=17,S(2,0);case 19:if(51!==r||!e.ctrlKey){t.next=25;break}return e.preventDefault(),t.next=23,S(3,0);case 25:if(52!==r||!e.ctrlKey){t.next=31;break}return e.preventDefault(),t.next=29,S(4,0);case 31:if(53!==r||!e.ctrlKey){t.next=37;break}return e.preventDefault(),t.next=35,S(5,0);case 37:if(54!==r||!e.ctrlKey){t.next=43;break}return e.preventDefault(),t.next=41,S(6,0);case 43:if(55!==r||!e.ctrlKey){t.next=49;break}return e.preventDefault(),t.next=47,S(0,1,"wd");case 49:if(56!==r||!e.ctrlKey){t.next=55;break}return e.preventDefault(),t.next=53,S(0,1,"nb");case 55:if(57!==r||!e.ctrlKey){t.next=59;break}return e.preventDefault(),t.next=59,S("0w",0);case 59:return t.abrupt("return");case 60:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}})),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("iframe",{height:"300px",ref:K,width:"100%",title:"Live Score"})})}}}]);