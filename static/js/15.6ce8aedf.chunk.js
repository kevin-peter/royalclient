(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[15],{142:function(e,t,a){"use strict";a.r(t);var c=a(11),n=a(17),s=a(16),i=a(3),r=a(6),l=a(7),d=a(2),o=a(5),j=a(8),b=a(18),u=a(28),m=a(72),O=(a(73),a(40)),h=a(76),p=a(88),f=a(87),x=(a(77),a(1));t.default=function(e){var t=Object(d.useContext)(b.b),a=Object(o.p)(),g=a.eventid,v=a.market,N=a.eventtype,y=Object(d.useState)(!1),w=Object(l.a)(y,2),k=w[0],_=w[1],S=Object(d.useState)(!1),C=Object(l.a)(S,2),T=(C[0],C[1],Object(d.useState)([])),B=Object(l.a)(T,2),E=B[0],F=B[1],I=Object(d.useState)([]),M=Object(l.a)(I,2),P=M[0],z=M[1],R=Object(d.useState)([]),H=Object(l.a)(R,2),J=H[0],L=H[1],A=Object(d.useState)([]),q=Object(l.a)(A,2),V=q[0],D=q[1],U=Object(d.useState)([]),Y=Object(l.a)(U,2),G=Y[0],K=Y[1],Q=Object(d.useState)([]),W=Object(l.a)(Q,2),X=W[0],Z=W[1],$=Object(d.useState)([]),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ce=Object(d.useState)([]),ne=Object(l.a)(ce,2),se=ne[0],ie=ne[1],re=Object(d.useState)([]),le=Object(l.a)(re,2),de=le[0],oe=le[1],je=Object(d.useState)([]),be=Object(l.a)(je,2),ue=(be[0],be[1]),me=Object(d.useState)([]),Oe=Object(l.a)(me,2),he=Oe[0],pe=Oe[1],fe=Object(d.useState)([]),xe=Object(l.a)(fe,2),ge=xe[0],ve=xe[1],Ne=Object(d.useState)({}),ye=Object(l.a)(Ne,2),we=ye[0],ke=ye[1],_e=Object(d.useState)(""),Se=Object(l.a)(_e,2),Ce=Se[0],Te=Se[1],Be=Object(d.useState)(),Ee=Object(l.a)(Be,2),Fe=Ee[0],Ie=Ee[1],Me=Object(d.useState)("alert-success"),Pe=Object(l.a)(Me,2),ze=Pe[0],Re=Pe[1],He=Object(d.useState)(!1),Je=Object(l.a)(He,2),Le=(Je[0],Je[1],Object(d.useState)(0)),Ae=Object(l.a)(Le,2),qe=(Ae[0],Ae[1],Object(d.useState)("")),Ve=Object(l.a)(qe,2),De=(Ve[0],Ve[1],Object(d.useState)({})),Ue=Object(l.a)(De,2),Ye=(Ue[0],Ue[1],Object(d.useState)({})),Ge=Object(l.a)(Ye,2),Ke=(Ge[0],Ge[1],Object(d.useState)(0)),Qe=Object(l.a)(Ke,2);Qe[0],Qe[1];Object(d.useEffect)((function(){$e(),We(),Xe(),et();var e=setInterval((function(){$e(),We(),et(),Xe()}),2e3);return function(){clearInterval(e)}}),[]);var We=function(){var a=Object(r.a)(Object(i.a)().mark((function a(c){var n,s,r;return Object(i.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n={event_id:g,main_market_id:v},(s=new Headers).append("Content-Type","application/json"),s.append("Authorization","Bearer "+t.getItem("jwt")),r={method:"POST",headers:s,redirect:"follow",body:JSON.stringify(n)},fetch("https://api.royalrunbet.com/api/v1/event/getMarketsC",r).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(e){e.data&&F(e.data),e.players&&z(e.players)})).catch((function(e){console.log(e)})).finally((function(){_(!1)}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),Xe=function(){var a=new Headers;a.append("Content-Type","application/json"),a.append("Authorization","Bearer "+localStorage.getItem("jwt"));var c;c={event_id:g};var n={method:"POST",headers:a,body:JSON.stringify(c)};fetch("https://api.royalrunbet.com/api/v1/event/getSelRuners",n).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(e){1==e.success&&(ae([].concat(Object(s.a)(te),Object(s.a)(e.confirmedMarkets))),ie(e.confirmedPlayers),oe(e.expMarket),ue(e.amtTaken),D([].concat(Object(s.a)(V),Object(s.a)(e.data))),K([].concat(Object(s.a)(G),Object(s.a)(e.system))),pe([].concat(Object(s.a)(he),Object(s.a)(e.sys_odd))),ve([].concat(Object(s.a)(ge),Object(s.a)(e.sys_even))),Z(e.markets),e.bal.length>0&&(t.setItem("bal",e.bal[0].amount),t.setItem("exp",e.bal[0].exposer))),_(!1)})).catch((function(){_(!1)}))},Ze=function(t,a,c,n){if(_(!0),1==t.target.checked){var s=new Headers;s.append("Content-Type","application/json"),s.append("Authorization","Bearer "+localStorage.getItem("jwt"));var i;i={event_id:g,market_id:a.market_id,runnerId:a.id,runner_name:a.name,sequence:a.sequence,team:a.team,main_market_id:a.main_market_id,eventType:N,odd_even:n,eventStatus:J};var r={method:"POST",headers:s,body:JSON.stringify(i)};fetch("https://api.royalrunbet.com/api/v1/event/selectOddEven",r).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(e){1==e.success&&(Xe(),Ie(e.message),Re("alert-success"))})).catch((function(){_(!1)}))}else Z(X.filter((function(e){return e!==a.market_id}))),function(t,a,c){if(_(!0),0==t.target.checked){var n,s=new Headers;s.append("Content-Type","application/json"),s.append("Authorization","Bearer "+localStorage.getItem("jwt")),n={event_id:g,market_id:a.market_id,runnerId:a.id,sequence:a.sequence,team:a.team};var i={method:"POST",headers:s,body:JSON.stringify(n)};fetch("https://api.royalrunbet.com/api/v1/event/unSelectRunner",i).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(e){1==e.success&&(D(V.filter((function(t){return!e.data.includes(t)}))),K(G.filter((function(t){return!e.data.includes(t)}))),pe(he.filter((function(t){return!e.data.includes(t)}))),ve(ge.filter((function(t){return!e.data.includes(t)}))),oe(e.expMarket),ue("1")),Ie(e.message),Re("alert-success"),_(!1)})).catch((function(){_(!1)}))}}(t,a),console.log("false data")},$e=function(){var a=Object(r.a)(Object(i.a)().mark((function a(c){var n,s,r;return Object(i.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n={event_id:g},(s=new Headers).append("Content-Type","application/json"),s.append("Authorization","Bearer "+t.getItem("jwt")),r={method:"POST",headers:s,redirect:"follow",body:JSON.stringify(n)},fetch("https://api.royalrunbet.com/api/v1/event/getEventStatus",r).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(t){1===t.event_timeout&&e.navigate("/events"),t.data[0]&&L(t.data[0])})).catch((function(e){console.log(e)})).finally((function(){_(!1)}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),et=function(){var a=Object(r.a)(Object(i.a)().mark((function a(c){var n,s,r;return Object(i.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n={event_id:g,main_market_id:v},(s=new Headers).append("Content-Type","application/json"),s.append("Authorization","Bearer "+t.getItem("jwt")),r={method:"POST",headers:s,redirect:"follow",body:JSON.stringify(n)},fetch("https://api.royalrunbet.com/api/v1/event/getButtons",r).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(e){e.data&&Te(e.data)})).catch((function(e){console.log(e)})).finally((function(){}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),tt=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ie(!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(e,t){ke((function(a){return Object(n.a)(Object(n.a)({},a),{},Object(c.a)({},e,t))}))};var ct=function(){window.history.back()};return k?Object(x.jsx)(u.a,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"row",children:E.map((function(a,i){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"col-12 col-md-6 p-0",children:Object(x.jsxs)("div",{className:"card",children:[Object(x.jsxs)("div",{className:"card-header text-center",children:[Object(x.jsx)("button",{className:"btn btn-sm btn-secondary float-left",onClick:ct,children:"Back"}),Object(x.jsxs)("span",{className:"badge badge-pill badge-warning text-border font-weight-bold title-e text-center",children:[Object(x.jsx)(O.b,{className:"w-6 text-dark"}),J.event_name]})]}),Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"col-12 btn btn-sm btn-light",children:[Object(x.jsxs)("div",{className:"card-title",children:[Object(x.jsx)("span",{className:"float-left title-m badge badge-dark text-center",children:a.market_name}),Object(x.jsxs)("span",{className:"float-right text-danger badge badge-pill badge-warning",children:["Exp: ",de[a.id]?de[a.id]:0]})]}),0==te.includes(a.id)?null==a.visible||1==a.parent_visible?Object(x.jsxs)("div",{className:"container mt-4",children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("ul",{className:"list-group",children:[Object(x.jsxs)("li",{className:"list-group-item list-group-item-info",children:[J.team1," "]}),Object(x.jsx)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:Object(x.jsxs)("table",{className:"table",children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"text-success",children:"ODD "}),Object(x.jsx)("th",{className:"text-success",children:"Player"}),Object(x.jsx)("th",{className:"text-success",children:"EVEN "})]}),Object(x.jsx)("tbody",{children:P.map((function(e,t){return e.market_id==a.id&&1==e.team?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"odd",children:0===J.bet_lock&&0==a.parent_locked?Object(x.jsx)("input",{type:"checkbox",onChange:function(t){var a=Object(s.a)(V),c=a.indexOf(e.id);-1!==c?a.splice(c,1):a.push(e.id),Ze(t,e,0,"odd")},checked:V.includes(e.id),disabled:he.includes(e.id)},e.id+"-odd"):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"lock"}),Object(x.jsx)(h.a,{className:"w-6"})]})}),Object(x.jsx)("td",{children:Object(x.jsx)("span",{className:"badge badge-info badge-pill",children:e.name})}),Object(x.jsx)("td",{className:"even",children:0===J.bet_lock&&0==a.parent_locked?Object(x.jsx)("input",{type:"checkbox",onChange:function(t){var a=Object(s.a)(V),c=a.indexOf(e.id);-1!==c?a.splice(c,1):a.push(e.id),Ze(t,e,0,"even")},checked:V.includes(e.id),disabled:ge.includes(e.id)},e.id+"-even"):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"lock"}),Object(x.jsx)(h.a,{className:"w-6"})]})})]})}):null}))})]})},1)]})},i),Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("ul",{className:"list-group",children:[Object(x.jsxs)("li",{className:"list-group-item list-group-item-info",children:[J.team2," "]}),Object(x.jsx)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:Object(x.jsxs)("table",{className:"table",children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"text-success",children:"ODD "}),Object(x.jsx)("th",{className:"text-success",children:"Player"}),Object(x.jsx)("th",{className:"text-success",children:"EVEN "})]}),Object(x.jsx)("tbody",{children:P.map((function(e,t){return e.market_id==a.id&&2==e.team?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"odd",children:0===J.bet_lock&&0==a.parent_locked?Object(x.jsx)("input",{type:"checkbox",onChange:function(t){var a=Object(s.a)(V),c=a.indexOf(e.id);-1!==c?a.splice(c,1):a.push(e.id),Ze(t,e,0,"odd")},checked:V.includes(e.id),disabled:he.includes(e.id)},e.id+"-odd"):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"lock"}),Object(x.jsx)(h.a,{className:"w-6"})]})}),Object(x.jsx)("td",{children:Object(x.jsx)("span",{className:"badge badge-info badge-pill",children:e.name})}),Object(x.jsx)("td",{className:"even",children:0===J.bet_lock&&0==a.parent_locked?Object(x.jsx)("input",{type:"checkbox",onChange:function(t){var a=Object(s.a)(V),c=a.indexOf(e.id);-1!==c?a.splice(c,1):a.push(e.id),Ze(t,e,0,"even")},checked:V.includes(e.id),disabled:ge.includes(e.id)},e.id+"-even"):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"lock"}),Object(x.jsx)(h.a,{className:"w-6"})]})})]})}):null}))})]})},2)]})})]},i),Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col mt-2 ",children:0===J.bet_lock&&0==a.parent_locked?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"text-center",children:[Object(x.jsx)("button",{className:"btn btn-sm btn-dark mr-1 ",onClick:function(e){return t=a.id,s=we[a.id],s-=1,void ke((function(e){return Object(n.a)(Object(n.a)({},e),{},Object(c.a)({},t,s))}));var t,s},children:"-"}),Object(x.jsx)("input",{placeholder:"Bet Amount",type:"number",value:we[a.id],onChange:function(e){return at(a.id,e.target.value)},maxLength:"50",className:"mb-2 text-center w-50",required:!0}),Object(x.jsx)("button",{className:"btn btn-sm btn-dark ml-1 ",onClick:function(e){return t=a.id,s=we[a.id],s+=1,void ke((function(e){return Object(n.a)(Object(n.a)({},e),{},Object(c.a)({},t,s))}));var t,s},children:"+"})]}),Object(x.jsx)("div",{className:"text-center",children:Ce&&Ce.map((function(e,t){return Object(x.jsx)("button",{type:"button",className:"mr-1 mt-1 btn btn-sm "+(we[a.id]==e.b_value?"btn-warning":"btn-dark"),onClick:function(){return at(a.id,e.b_value)},children:e.b_name})}))}),Object(x.jsx)("div",{className:"text-center mt-2",children:Object(x.jsx)(j.b,{to:"#",className:"btn btn-lg btn-success btn-outline-red btn-block",onClick:function(){return function(a){if(!X.includes(a.id))return Ie("Empty selection box, select player again!"),Re("alert-danger"),!1;if(!we[a.id])return Ie("Bet amount required!"),Re("alert-danger"),!1;_(!0);var c=new Headers;c.append("Content-Type","application/json"),c.append("Authorization","Bearer "+t.getItem("jwt"));var n={event_id:g,market_id:a.id,event_name:J.event_name,amount:we[a.id],main_market_id:a.main_market_id,selection:!0},s={method:"POST",headers:c,body:JSON.stringify(n)};fetch("https://api.royalrunbet.com/api/v1/event/confirmPlayers",s).then((function(t){if(403!==t.status)return t.json();e.navigate("/login")})).then((function(e){We(),Xe(),Ie(e.message),e.success||Re("alert-danger")})).catch((function(e){console.log(e)})).finally((function(){_(!1)}))}(a)},disabled:!0,children:"Bet Place "})})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"text-center mt-2",children:Object(x.jsxs)(j.b,{to:"#",className:"btn btn-lg btn-dark float-left btn-block disabled",children:[Object(x.jsx)(h.a,{className:""}),"Bet Place"]})})})})})]},i):Object(x.jsx)("div",{className:"container mt-4",children:"This Market unavailable to bet."}):Object(x.jsx)("div",{className:"container mt-4",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("ul",{className:"list-group",children:[Object(x.jsx)("li",{className:"list-group-item list-group-item-info",children:"User (You)"}),se.map((function(e,t){return e.market_id==a.id&&"user"==e.type?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("li",{className:"list-group-item list-group-item-info d-flex justify-content-between align-items-center",children:[Object(x.jsx)(p.a,{className:"w-6 text-success"}),Object(x.jsx)("i",{className:"badge badge-success badge-pill",children:e.runner_name}),"-",Object(x.jsx)("i",{className:"uppercase",children:e.odd_even}),Object(x.jsx)(f.a,{className:"w-6 text-success"})]})}):null}))]})},i),Object(x.jsx)("div",{className:"col",children:Object(x.jsxs)("ul",{className:"list-group",children:[Object(x.jsx)("li",{className:"list-group-item list-group-item-secondary",children:"System"}),se.map((function(e,t){return e.market_id==a.id&&"system"==e.type?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("li",{className:"list-group-item list-group-item-secondary d-flex justify-content-between align-items-center",children:[Object(x.jsx)(p.a,{className:"w-6 text-secondary"}),Object(x.jsx)("i",{className:"badge badge-secondary badge-pill",children:e.runner_name}),"-",Object(x.jsx)("i",{className:"uppercase",children:e.odd_even}),Object(x.jsx)(f.a,{className:"w-6 text-secondary"})]})}):null}))]})}),Object(x.jsxs)("div",{className:"col-12 mt-1",children:[Object(x.jsx)("i",{className:"text-success",children:"Players Confirmed"}),Object(x.jsxs)("span",{children:[Object(x.jsx)(p.a,{className:"ml-1 w-6 text-success"})," ","VS"," ",Object(x.jsx)(p.a,{className:"ml-1 w-6 text-secondary"})]})]})]},i)},i)]},i)},i)]},i)},i)})}))},"markets"),Fe&&Object(x.jsx)(m.a,{message:Fe,closeMessage:tt,className:ze})]})}},70:function(e,t,a){"use strict";var c=a(2),n=a(1);t.a=function(e){return Object(c.useEffect)((function(){return document.body.classList.add("modal-open"),function(){document.body.classList.remove("modal-open")}}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"modal fade show",id:"create_new_party",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-modal":"true",role:"dialog",style:{display:"block",paddingLeft:"0px"},children:Object(n.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg model-content-box",children:Object(n.jsxs)("div",{className:"modal-content rounded-0 ".concat(e.className?e.className:"blue-light-bg"),children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h3",{className:"modal-title center badge badge-pill badge-warning",id:"exampleModalLabel",children:e.title}),""!=e.sub_title&&Object(n.jsx)("h3",{className:"modal-title right badge badge-dark",id:"exampleModalLabel",children:e.sub_title}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(t){e.closeModal()},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsx)("div",{className:"modal-body",children:e.children}),Object(n.jsx)("div",{className:"modal-footer"})]})})}),Object(n.jsx)("div",{className:"modal-backdrop fade show"})]})}},72:function(e,t,a){"use strict";a(2);var c=a(1);t.a=function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"alert ".concat(e.className?e.className:"alert-success"," alert-dismissible slideUp show "),role:"alert",style:{position:"fixed",width:"auto",right:"10px",bottom:"0"},children:[e.message,Object(c.jsx)("button",{onClick:e.closeMessage,type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",style:{padding:"7px"},children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})}},73:function(e,t,a){"use strict";a(7),a(2),a(70),a(18),a(1)},76:function(e,t,a){"use strict";var c=a(2);var n=c.forwardRef((function(e,t){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),c.createElement("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}))}));t.a=n},87:function(e,t,a){"use strict";var c=a(2);var n=c.forwardRef((function(e,t){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),c.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}));t.a=n},88:function(e,t,a){"use strict";var c=a(2);var n=c.forwardRef((function(e,t){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),c.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))}));t.a=n}}]);