(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[47],{155:function(e,t,a){"use strict";a.r(t);var c=a(16),s=a(7),n=a(2),r=a.n(n),i=a(18),l=a(28),d=a(39),j=a(1);t.default=function(e){var t=Object(n.useState)(50),a=Object(s.a)(t,1)[0],x=Object(n.useState)(!1),h=Object(s.a)(x,2),b=h[0],o=h[1],p=Object(n.useState)([]),u=Object(s.a)(p,2),m=u[0],O=u[1],g=Object(n.useState)(0),f=Object(s.a)(g,2),y=f[0],N=f[1],v=Object(n.useContext)(i.b),w=Object(n.useState)(1),k=Object(s.a)(w,2),S=k[0],_=k[1],F=Object(n.useState)(!0),I=Object(s.a)(F,2),P=I[0],A=I[1];Object(n.useEffect)((function(){var e=v.getItem("active_user");N(e.u_id?e:{}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Headers;t.append("Authorization","Bearer "+localStorage.getItem("jwt"));var s=new URLSearchParams;s.append("page",S),s.append("limit",a),e&&s.append("uid",e),fetch("https://api.royalrunbet.com/api/v1/account/getacsummary",{method:"POST",headers:t,body:s,redirect:"follow"}).then((function(e){if(401!==e.status)return e.json();window.location.href="/login"})).then((function(e){if(e.success&&e.data){var t=Object(c.a)(m);e.data.length>0?_(S+1):o(!0),t=Object(c.a)(e.data),O(t)}A(!1)})).catch((function(e){e&&A(!1)}))}(e.u_id?e.u_id:"")}),[]);var C=[],J=0,R=0;return m.length>0&&(C=m.map((function(t,a){return J+=parseFloat(t.amount),R+=parseFloat(-1*t.up_line),Object(j.jsx)(r.a.Fragment,{children:Object(j.jsxs)("tr",{className:"text-black dark:text-white ".concat(a%2===0?"bg-white":"bg-light"),children:[Object(j.jsx)("td",{className:"px-2 py-0.5 text-center",children:a+1}),Object(j.jsx)("td",{className:"px-2 py-0.5",children:t.play}),Object(j.jsx)("td",{className:"px-2 py-0.5 text-right ".concat(t.amount<0?"text-danger":"text-success"),children:t.amount}),e.role<5&&Object(j.jsx)("td",{className:"px-2 py-0.5 text-right ".concat(t.up_line>0?"text-danger":"text-success"),children:-1*t.up_line})]})},a)}))),Object(j.jsx)(r.a.Fragment,{children:Object(j.jsxs)("div",{className:"py-2 mx-n3",children:[Object(j.jsxs)("h5",{className:"text-center  bg-white dark:bg-primary-800",children:["-: Account Summary ",y.u_name&&Object(j.jsxs)("span",{className:"text-green-500",children:["Of ",y.u_name]}),y.u_id&&Object(j.jsx)(d.b,{role:"button",type:"reset",title:"Reset Filter",onClick:function(e){e.preventDefault(),v.setItem("active_user",{}),O([]),_(1),N({}),window.history.back()},className:"inline-flex float-right justify-center w-8 h-8  focus:outline-none text-red-500  dark:text-red-400  hover:text-red-400 dark:hover:text-red-300  float-right",children:"X"}),": -"]}),Object(j.jsx)("div",{className:"d-flex justify-content-center table-responsive",children:Object(j.jsxs)("table",{style:{maxWidth:"100%",width:"414px"},className:"table table-bordered table-sm report-table",children:[Object(j.jsx)("thead",{className:"text-black dark:text-white bg-light",children:Object(j.jsxs)("tr",{className:"tracking-wide text-left",children:[Object(j.jsx)("th",{className:"px-2 py-0.5 text-center",children:"Sr"}),Object(j.jsx)("th",{className:"px-2 py-0.5",children:"Play"}),Object(j.jsxs)("th",{className:"px-2 py-0.5 text-right",children:["Total:",Object(j.jsx)("span",{className:"pl-2 py-0.5 text-right ".concat(J<0?"text-danger":"text-success"),children:J.toFixed(2)})]}),e.role<5&&Object(j.jsxs)("th",{className:"pl-2 py-0.5 text-right",children:["Upline:",Object(j.jsx)("span",{className:"px-2 py-0.5 text-right ".concat(J<0?"text-danger":"text-success"),children:R.toFixed(2)})]})]})}),Object(j.jsx)("tbody",{children:C})]})}),P&&!b&&Object(j.jsx)(l.a,{})]})})}}}]);