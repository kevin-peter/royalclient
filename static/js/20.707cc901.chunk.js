(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[20],{110:function(e,t,a){"use strict";var n=a(2);var c=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))}));t.a=c},147:function(e,t,a){"use strict";a.r(t);var n=a(17),c=a(16),s=a(7),l=a(2),r=a.n(l),i=a(18),o=a(83),d=a(98),b=a(28),j=a(110),u=a(1),m=r.a.lazy((function(){return Promise.all([a.e(2),a.e(1),a.e(34)]).then(a.bind(null,107))})),h=r.a.lazy((function(){return Promise.all([a.e(2),a.e(1),a.e(33)]).then(a.bind(null,129))}));t.default=function(e){var t=new Date;t.setDate(t.getDate()-15);var a=Object(l.useState)(t),O=Object(s.a)(a,2),p=O[0],f=O[1],x=Object(l.useState)(new Date),g=Object(s.a)(x,2),v=g[0],w=g[1],N=Object(l.useState)(0),S=Object(s.a)(N,2),y=S[0],k=S[1],D=Object(l.useState)("4"),C=Object(s.a)(D,2),_=C[0],F=C[1],E=Object(l.useState)("all"),L=Object(s.a)(E,1)[0],R=Object(l.useState)([]),I=Object(s.a)(R,2),T=I[0],B=I[1],M=Object(l.useState)(50),P=Object(s.a)(M,1)[0],U=Object(l.useState)(!1),z=Object(s.a)(U,2),A=z[0],G=z[1],H=Object(l.useState)(""),J=Object(s.a)(H,2),Y=J[0],X=J[1],q=Object(l.useState)([]),K=Object(s.a)(q,2),Q=K[0],V=K[1],W=Object(l.useState)(0),Z=Object(s.a)(W,2),$=Z[0],ee=Z[1],te=Object(l.useState)(!1),ae=Object(s.a)(te,2),ne=ae[0],ce=ae[1],se=Object(l.useState)(""),le=Object(s.a)(se,2),re=(le[0],le[1]),ie=Object(l.useState)(""),oe=Object(s.a)(ie,2),de=(oe[0],oe[1]),be=Object(l.useContext)(i.b),je=Object(l.useState)(1),ue=Object(s.a)(je,2),me=ue[0],he=ue[1],Oe=Object(l.useState)(0),pe=Object(s.a)(Oe,2),fe=pe[0],xe=pe[1],ge=Object(l.useState)(0),ve=Object(s.a)(ge,2),we=ve[0],Ne=ve[1],Se=Object(l.useState)(!1),ye=Object(s.a)(Se,2),ke=ye[0],De=ye[1],Ce=Object(l.useState)(!1),_e=Object(s.a)(Ce,2),Fe=_e[0],Ee=_e[1],Le=function(){var e=new Headers;e.append("Authorization","Bearer "+localStorage.getItem("jwt"));var t=new URLSearchParams;t.append("mode",_),t.append("type",L),t.append("fromdate",p),t.append("todate",v),t.append("page",me),t.append("limit",P),$.id&&t.append("uid",$.id),fetch("https://api.munimji.co/api/v1/account/getpl",{method:"POST",headers:e,body:t,redirect:"follow"}).then((function(e){if(401!==e.status)return e.json();window.location.href="/login"})).then((function(e){if(e.success&&e.data&&e.data){var t=Object(c.a)(Q);e.data.length>0?he(me+1):G(!0),t=[].concat(Object(c.a)(t),Object(c.a)(e.data));for(var a=0,n=0;n<t.length;n++)a+=Number(t[n].amount);V(t),xe(a),Ne(e.gt)}Me(!1)})).catch((function(e){e&&Me(!1)}))},Re=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||window.history.go(-1),De(!1),ce(!1),Ee(!1),B([])},Ie=Object(d.a)(Le),Te=Object(s.a)(Ie,2),Be=Te[0],Me=Te[1];Object(l.useEffect)((function(){Le();var e=be.getItem("active_user");k(Object(o.c)(new Date((new Date).setDate((new Date).getDate()-90)))),f(Object(o.c)(new Date((new Date).setDate((new Date).getDate()-15)))),w(Object(o.c)(new Date)),ee(e.id?e:{})}),[]);var Pe=[],Ue=0,ze=0;Q.length>0&&(Pe=Q.map((function(t,a){return Ue="CR"===t.type?parseFloat(t.amount)+Ue:Ue,ze="DR"===t.type?parseFloat(t.amount)+ze:ze,Object(u.jsx)(r.a.Fragment,{children:Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{role:"button",className:"text-left",children:[t.event.split("/")[0]+"/"+t.event.split("/")[1]+"/"+t.event.split("/")[2]," -"," ",Object(o.a)(t.created_at)]}),Object(u.jsx)("td",{className:"text-right ".concat(parseInt(t.amount)<0?"text-danger":"text-success"),children:t.amount}),e.role<5&&Object(u.jsx)("td",{className:"text-right ".concat(parseInt(t.up_line)>0?"text-danger":"text-success"),children:-1*t.up_line}),Object(u.jsxs)("td",{className:"text-center",children:["0"!==t.market_id&&Object(u.jsx)("button",{onClick:function(){!function(e,t){var a=new Headers;a.append("Authorization","Bearer "+localStorage.getItem("jwt"));var n=new URLSearchParams;n.append("event_id",e),n.append("limit",500),$.id&&n.append("uid",$.id),fetch("https://api.munimji.co/api/v1/event/resulttrade",{method:"POST",headers:a,body:n,redirect:"follow"}).then((function(e){if(401!==e.status)return e.json();window.location.href="/login"})).then((function(e){e&&e.data&&B(e.data)}))}(t.event_id,t.market_id),X(t.event.split("/")[0]+" /BETS"),De(!0),window.history.pushState({dummyUrl:!0},null,null)},title:"Bet List",className:"bg-primary",children:"B"}),"0"!==t.market_id&&e.role<5&&Object(u.jsx)("button",{onClick:function(){ce(!0),X("-: "+t.event.split("/")[0]+" GENERAL -:"),re(t.event_id),de(t.mode_id),window.history.pushState({dummyUrl:!0},null,null)},title:"Event General Userwise",className:"bg-primary",children:"S"}),Object(u.jsx)("button",{onClick:function(){Ee(!0),X("-: "+t.event.split("/")[0]+"  Markets Details-:"),re(t.event_id),de(t.mode_id),window.history.pushState({dummyUrl:!0},null,null)},title:"Markets Details",className:"bg-primary",children:"D"})]})]})},a)})));var Ae=[0].map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-right",children:"Page Total"}),Object(u.jsx)("td",{className:"text-right px-2 font-semibold ".concat(fe<0?"text-danger ":"text-success"),children:fe.toFixed(2)}),Object(u.jsx)("td",{colSpan:"2",className:"text-left"})]},t)})),Ge=[0].map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-right text-primary",children:"Grand Total"}),Object(u.jsx)("td",{className:"text-right ".concat(we<0?"text-danger ":"text-success"),children:we.toFixed(2)}),Object(u.jsx)("td",{colSpan:"2",className:"text-left"})]},t)}));return console.log(Ge),Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsxs)("div",{className:"container-fluid content-report",children:[Object(u.jsx)("div",{className:"row rowBG",children:Object(u.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),V([]),he(1),G(!1),void Me(!0)},className:"col-12",children:[Object(u.jsxs)("div",{className:"col-6 col-md-2 float-left p-1",children:[Object(u.jsxs)("label",{htmlFor:"name",className:"",children:["From Date"," "]}),Object(u.jsx)("input",{min:y,value:p,onChange:function(e){f(e.target.value)},autoComplete:"false",type:"date",className:"form-control"})]}),Object(u.jsxs)("div",{className:"col-6 col-md-2 float-left p-1",children:[Object(u.jsxs)("label",{htmlFor:"name",className:"",children:["To Date"," "]}),Object(u.jsx)("input",{min:y,value:v,onChange:function(e){w(e.target.value)},autoComplete:"false",type:"date",className:"form-control"})]}),Object(u.jsxs)("div",{className:"col-4 col-md-2 float-left p-1",children:[Object(u.jsx)("label",{htmlFor:"name",className:"",children:"Sport"}),Object(u.jsx)("select",{onChange:function(e){F(e.target.value)},autoComplete:"false",type:"date",className:"form-control",children:Object(u.jsx)("option",{value:"",children:"All"})})]}),Object(u.jsxs)("div",{className:"col-4 col-md-2 float-left p-1",children:[Object(u.jsx)("label",{className:"invisible d-block",children:"submit"}),Object(u.jsx)("button",{type:"submit",className:"mt-1 btn btn-sm btn-theme shadow",children:"Submit"})]})]})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("h1",{className:"text-center",children:$.id&&Object(u.jsx)(j.a,{role:"button",type:"reset",title:"Reset Filter",onClick:function(e){e.preventDefault(),be.setItem("active_user",{}),V([]),he(1),ee({}),window.history.back()},className:"float-right bg-success",children:"X"})})}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"table-responsive",children:Object(u.jsxs)("table",{className:"table table-bordered table-striped table-sm report-table",children:[Object(u.jsx)("thead",{className:"text-black",children:Object(u.jsxs)("tr",{className:"text-left",children:[Object(u.jsx)("th",{className:"text-center",children:"Event"}),Object(u.jsx)("th",{className:"text-right",children:"Total"}),e.role<5&&Object(u.jsx)("th",{className:"text-right",children:"Up"}),Object(u.jsx)("th",{className:"text-center",children:"Info"})]})}),Object(u.jsxs)("tbody",{children:[Ge,Ae,Pe]})]})}),Be&&!A&&Object(u.jsx)("div",{className:"relative h-20",children:Object(u.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:Object(u.jsx)(b.a,{})})})]})]}),ke&&Object(u.jsx)(r.a.Suspense,{fallback:Object(u.jsx)(b.a,{}),children:Object(u.jsx)(h,Object(n.a)(Object(n.a)({betlist:T,dateFormate:o.a,title:Y},e),{},{openModal:function(){De(!0)},closeModal:Re}))}),ne&&Object(u.jsx)(r.a.Suspense,{fallback:Object(u.jsx)(b.a,{}),children:Object(u.jsx)(m,{title:Y,modelClose:Re})}),Fe&&Object(u.jsx)(r.a.Suspense,{fallback:Object(u.jsx)(b.a,{}),children:Object(u.jsx)(m,{title:Y,modelClose:Re})})]})}},83:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return s}));var n=function(e){var t=e.getMonth()+1,a=e.getDate(),n=e.getFullYear();return t<10&&(t="0"+t.toString()),a<10&&(a="0"+a.toString()),n+"-"+t+"-"+a},c=function(e){return new Date(e).toLocaleTimeString("en-IN",{month:"numeric",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})},s=function(e){var t="btn btn-sm btn-primary";return 2===e&&(t="btn btn-sm btn-danger"),3===e&&(t="btn btn-sm btn-warning"),4===e&&(t="btn btn-sm btn-warning"),5===e&&(t="btn btn-sm btn-info"),6===e&&(t="btn btn-sm btn-dark"),7===e&&(t="bg-green-100 hover:bg-green-50 dark:bg-green-500 dark:bg-green-500"),10===e&&(t="bg-pink-100 hover:bg-pink-50 dark:bg-pink-600 dark:hover:bg-pink-500"),t}},98:function(e,t,a){"use strict";var n=a(7),c=a(2);t.a=function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),s=a[0],l=a[1];Object(c.useEffect)((function(){return window.addEventListener("scroll",r),function(){return window.removeEventListener("scroll",r)}})),Object(c.useEffect)((function(){s&&e()}),[s]);var r=function(){window.innerHeight+window.scrollY+60>=document.body.offsetHeight&&!s&&l(!0)};return[s,l]}}}]);