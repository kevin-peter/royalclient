(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[4],{134:function(e,t,a){"use strict";a.r(t);var c=a(16),s=a(7),n=a(2),l=a(70),r=a(18),i=a(1);t.default=function(e){var t=Object(n.useContext)(r.b),a=Object(n.useState)(t.getItem("modes")),d=Object(s.a)(a,2),o=d[0],b=d[1],u=Object(n.useState)(""),j=Object(s.a)(u,2),m=j[0],h=j[1],p=Object(n.useState)(!1),O=Object(s.a)(p,2),f=O[0],x=O[1],v=Object(n.useState)("alert alert-success"),g=Object(s.a)(v,2),w=g[0],N=g[1],y=Object(n.useState)(""),_=Object(s.a)(y,2),C=_[0],S=_[1];Object(n.useEffect)((function(){k()}),[]),Object(n.useEffect)((function(){for(var e=Object(c.a)(o),t=0;t<e.length;t++)e[t].our=100,e[t].downline=0,e[t].active=1;b(e)}),[]);var k=function(){var t=new Headers;t.append("Content-Type","application/x-www-form-urlencoded"),t.append("Authorization","Bearer "+localStorage.getItem("jwt"));var a=new URLSearchParams;e.user&&e.user.id&&a.append("child_id",e.user.id),fetch("https://api.royalrunbet.com/api/v1/event/getpart",{method:"POST",headers:t,body:a}).then((function(e){if(401!==e.status)return e.json()})).then((function(e){if(e.success&&e.data.length>0){for(var t=e.data?e.data:[],a=Object(c.a)(o),s=0,n=0;n<a.length;n++){s=0;for(var l=0;l<t.length;l++)a[n].mode_id===t[n].mode_id&&(s=1,a[n].our=100-t[n].downline,a[n].downline=t[n].downline,a[n].active=t[n].active);0===s&&(a[n].our=90,a[n].downline=10,a[n].active=1)}b(a)}})).then((function(){})).catch((function(e){}))};return Object(i.jsx)(l.a,{closeModal:e.closeModal,title:"Change Sports Partership ",children:Object(i.jsx)("form",{className:"my-1 text-left align-middle",autoComplete:"off",onSubmit:function(t){t.preventDefault(),x(!0);var a=new Headers;a.append("Content-Type","application/json"),a.append("Authorization","Bearer "+localStorage.getItem("jwt"));var c={method:"POST",headers:a,body:JSON.stringify({partArr:o,user_id:e.user.id,admin_password:C})};fetch("https://api.royalrunbet.com/api/v1/user/updatepart",c).then((function(t){if(t.ok?N("alert alert-success"):N("alert alert-danger"),401!==t.status)return t.json();e.navigate("/login")})).then((function(t){h(t.message),t&&t.success&&e.closeModal(t.message,"alert alert-success"),setTimeout((function(){h("")}),3e3),x(!1)})).catch((function(e){x(!1)}))},children:Object(i.jsxs)("div",{className:"row",children:[o.length>0&&Object(i.jsx)("div",{className:"col-12 table-reponsive mt-2",children:Object(i.jsxs)("table",{className:"table table-bordered table-sm",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{width:"10%",children:"Play_Type"}),Object(i.jsx)("th",{width:"30%",children:"UpLine"}),Object(i.jsx)("th",{width:"30%",children:"Downline"}),Object(i.jsx)("th",{width:"30%",children:"Our Part"})]})}),Object(i.jsx)("tbody",{children:o.map((function(e,t){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{className:"form-check-input",onChange:function(){var a=Object(c.a)(o);a[t].active=!e.active,b(a)},type:"checkbox",checked:e.active}),Object(i.jsx)("label",{className:"ms-1",children:e.play})]})}),Object(i.jsx)("td",{className:"input__custom",children:Object(i.jsx)("input",{type:"number",className:"form-control",value:0,readOnly:!0,disabled:!0})}),Object(i.jsx)("td",{className:"input__custom",children:Object(i.jsx)("input",{type:"number",onChange:function(e){var a=Object(c.a)(o);a[t].our=e.target.value?100-parseInt(e.target.value):100,a[t].downline=e.target.value?parseInt(e.target.value):"",b(a)},min:0,max:100,className:"form-control",value:e.downline,required:!0})}),Object(i.jsx)("td",{className:"input__custom",children:Object(i.jsx)("input",{type:"number",className:"form-control",value:100-e.downline,readOnly:!0,disabled:!0})})]},t)}))})]})}),Object(i.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(i.jsx)("label",{children:"Admin Password:"}),Object(i.jsx)("input",{type:"password",autoComplete:"off",onChange:function(e){return S(e.target.value)},className:"form-control",maxLength:"20",required:!0})]}),Object(i.jsxs)("div",{className:"col-12 form-group mt-3",children:[Object(i.jsx)("button",{title:"Modify User",type:"submit",disabled:f,className:"btn btn-sm btn-primary float-end shadow",children:"Create"}),Object(i.jsx)("button",{className:"btn btn-sm btn-danger float-start shadow",onClick:function(){return e.closeModal()},children:"Cancel"})]}),Object(i.jsx)("div",{className:"text-center",children:m&&Object(i.jsx)("span",{className:"px-2 py-1 ".concat(w," "),children:m})})]})})})}},70:function(e,t,a){"use strict";var c=a(2),s=a(1);t.a=function(e){return Object(c.useEffect)((function(){return document.body.classList.add("modal-open"),function(){document.body.classList.remove("modal-open")}}),[]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"modal fade show",id:"create_new_party",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-modal":"true",role:"dialog",style:{display:"block",paddingLeft:"0px"},children:Object(s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg model-content-box",children:Object(s.jsxs)("div",{className:"modal-content rounded-0 ".concat(e.className?e.className:"blue-light-bg"),children:[Object(s.jsxs)("div",{className:"modal-header",children:[Object(s.jsx)("h3",{className:"modal-title center badge badge-pill badge-warning",id:"exampleModalLabel",children:e.title}),""!=e.sub_title&&Object(s.jsx)("h3",{className:"modal-title right badge badge-dark",id:"exampleModalLabel",children:e.sub_title}),Object(s.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(t){e.closeModal()},children:Object(s.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(s.jsx)("div",{className:"modal-body",children:e.children}),Object(s.jsx)("div",{className:"modal-footer"})]})})}),Object(s.jsx)("div",{className:"modal-backdrop fade show"})]})}}}]);