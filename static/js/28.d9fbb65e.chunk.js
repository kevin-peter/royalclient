(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[28],{131:function(e,t,a){"use strict";a.r(t);var c=a(16),l=a(7),s=a(2),n=a(70),r=a(18),o=a(1);t.default=function(e){var t=null,a=Object(s.useContext)(r.b),i=Object(s.useState)(""),d=Object(l.a)(i,2),u=d[0],j=d[1],b=Object(s.useState)(""),m=Object(l.a)(b,2),p=m[0],h=m[1],O=Object(s.useState)(a.getItem("role")),x=Object(l.a)(O,2),f=x[0],g=x[1],v=Object(s.useState)(0),N=Object(l.a)(v,2),y=N[0],_=N[1],C=Object(s.useState)(""),S=Object(l.a)(C,2),w=S[0],I=S[1],L=Object(s.useState)(""),k=Object(l.a)(L,2),M=k[0],R=k[1],E=Object(s.useState)(""),P=Object(l.a)(E,2),A=P[0],q=P[1],D=Object(s.useState)(""),T=Object(l.a)(D,2),F=T[0],U=T[1],J=Object(s.useState)(a.getItem("modes")),W=Object(l.a)(J,1)[0],B=Object(s.useState)(a.getItem("modes")),z=Object(l.a)(B,2),H=z[0],G=z[1],K=Object(s.useState)(!1),Q=Object(l.a)(K,2),V=Q[0],X=Q[1],Y=Object(s.useState)(""),Z=Object(l.a)(Y,2),$=Z[0],ee=Z[1],te=Object(s.useState)("alert alert-success"),ae=Object(l.a)(te,2),ce=ae[0],le=ae[1],se=Object(s.useState)(""),ne=Object(l.a)(se,2),re=ne[0],oe=ne[1],ie=a.getItem("role"),de=a.getItem("modes");Object(s.useEffect)((function(){var e=Object(c.a)(W);G(e)}),[]);return console.log(H),Object(o.jsx)(n.a,{closeModal:e.closeModal,title:"Create NEW Admin/OPERATOR",children:Object(o.jsx)("form",{className:"my-1 text-left align-middle",autoComplete:"off",onSubmit:function(a){a.preventDefault();var c=new Headers;c.append("Content-Type","application/json"),c.append("Authorization","Bearer "+localStorage.getItem("jwt"));var l={method:"POST",headers:c,body:JSON.stringify({name:w,email:u,password:p,mobile:M,free_chip:y,u_role:f,partArr:H,webref:F,remark:A,admin_password:re})};fetch("https://api.munimji.co/api/v1/user/adduser",l).then((function(a){if(a.ok?(le("alert alert-success"),I(""),j(""),R(""),q(""),_(1e5),g(2),t.focus()):le("alert alert-danger"),401!==a.status)return a.json();e.navigate("/login")})).then((function(t){ee(t.message),t&&t.success&&e.closeModal(t.message,"alert alert-success"),setTimeout((function(){ee("")}),3e3),X(!1)})).catch((function(){X(!1)}))},children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(o.jsx)("label",{children:"USER ID"}),Object(o.jsx)("input",{placeholder:"USER ID",minLength:2,type:"text",value:u,onChange:function(e){return j(e.target.value)},pattern:"[^\\s]+",title:"please dont use the white space :)",maxLength:16,required:!0,ref:function(e){t=e},className:"form-control"})]}),Object(o.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(o.jsx)("label",{children:"Password"}),Object(o.jsx)("input",{maxLength:"100",placeholder:"Password",type:"password",value:p,required:!0,onChange:function(e){return h(e.target.value)},className:"form-control",autoComplete:"off"})]}),Object(o.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(o.jsx)("label",{children:"Name"}),Object(o.jsx)("input",{maxLength:"100",placeholder:"Name",type:"text",value:w,required:!0,onChange:function(e){return I(e.target.value)},className:"form-control"})]}),Object(o.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(o.jsx)("label",{children:"Remark"}),Object(o.jsx)("input",{maxLength:"100",placeholder:"Remark",type:"text",value:A,onChange:function(e){return q(e.target.value)},className:"form-control"})]}),Object(o.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(o.jsx)("label",{children:"Free Chips"}),Object(o.jsx)("input",{maxLength:"100",placeholder:"Free Chips",type:"number",value:y,onChange:function(e){return _(e.target.value)},className:"form-control"})]}),Object(o.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(o.jsx)("label",{children:"Role"}),Object(o.jsxs)("select",{value:f,className:"form-control",onChange:function(e){g(e.target.value)},required:!0,children:[Object(o.jsx)("option",{value:"",children:"Select Role"}),ie<2?Object(o.jsx)("option",{value:2,children:"ADMIN"}):null,ie<4?Object(o.jsx)("option",{value:3,children:"Master"}):null,ie<5?Object(o.jsx)("option",{value:4,children:"Super Master"}):null,ie<6?Object(o.jsx)("option",{value:5,children:"Client"}):null,Object(o.jsx)("option",{value:7,children:"OPERATOR"})]})]}),1===parseInt(ie)&&Object(o.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(o.jsx)("label",{children:"WEBREF"}),Object(o.jsx)("input",{maxLength:"100",placeholder:"Webref",type:"text",value:F,onChange:function(e){return U(e.target.value)},className:"form-control"})]}),Object(o.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(o.jsx)("label",{children:"Mobile Number"}),Object(o.jsx)("input",{maxLength:"100",placeholder:"Mobile Number",type:"text",value:M,onChange:function(e){return R(e.target.value)},className:"form-control"})]}),5!=parseInt(f)&&7!=parseInt(f)&&Object(o.jsx)("div",{className:"col-12 table-reponsive mt-2",children:Object(o.jsxs)("table",{className:"table table-bordered table-sm table-dark",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Play Type"}),Object(o.jsx)("th",{children:"UpLine"}),Object(o.jsx)("th",{children:"Downline"}),Object(o.jsx)("th",{children:"Our Part"})]})}),Object(o.jsx)("tbody",{children:H.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{className:"form-check-input",onChange:function(){var a=Object(c.a)(H);a[t].active=!e.active,G(a)},type:"checkbox",checked:e.active}),Object(o.jsx)("label",{children:e.play})]})}),Object(o.jsx)("td",{className:"input__custom",children:Object(o.jsx)("input",{type:"number",className:"form-control",value:100-parseInt(de[0].our),readOnly:!0,disabled:!0})}),Object(o.jsx)("td",{className:"input__custom",children:Object(o.jsx)("input",{type:"number",onChange:function(e){var a=Object(c.a)(H);a[t].our=e.target.value?parseInt(de[0].our)-parseInt(e.target.value):parseInt(de[0].our),a[t].downline=e.target.value?parseInt(e.target.value):"",G(a)},min:0,max:parseInt(de[0].our),className:"form-control",value:e.downline,required:!0})}),Object(o.jsx)("td",{className:"input__custom",children:Object(o.jsx)("input",{type:"number",className:"form-control",value:e.our,readOnly:!0,disabled:!0})})]},t)}))})]})}),Object(o.jsxs)("div",{className:"col-6 form-group mt-1 input__custom",children:[Object(o.jsx)("label",{children:"Admin Password:"}),Object(o.jsx)("input",{type:"password",autoComplete:"off",onChange:function(e){return oe(e.target.value)},className:"form-control",maxLength:"20",required:!0})]}),Object(o.jsxs)("div",{className:"col-12 form-group mt-2",children:[Object(o.jsx)("button",{title:"Create User",type:"submit",disabled:V,className:"btn btn-sm btn-primary float-end",children:"Create"}),Object(o.jsx)("button",{type:"reset",className:"btn btn-sm btn-danger float-start",onClick:function(t){t.preventDefault(),e.closeModal()},children:"Cancel"})]}),Object(o.jsx)("div",{className:"text-center",children:$&&Object(o.jsx)("span",{className:"px-2 py-1 ".concat(ce," "),children:$})})]})})})}},70:function(e,t,a){"use strict";var c=a(2),l=a(1);t.a=function(e){return Object(c.useEffect)((function(){return document.body.classList.add("modal-open"),function(){document.body.classList.remove("modal-open")}}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"modal fade show",id:"create_new_party",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-modal":"true",role:"dialog",style:{display:"block",paddingLeft:"0px"},children:Object(l.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg model-content-box",children:Object(l.jsxs)("div",{className:"modal-content rounded-0 ".concat(e.className?e.className:"blue-light-bg"),children:[Object(l.jsxs)("div",{className:"modal-header",children:[Object(l.jsx)("h3",{className:"modal-title center badge badge-pill badge-warning",id:"exampleModalLabel",children:e.title}),""!=e.sub_title&&Object(l.jsx)("h3",{className:"modal-title right badge badge-dark",id:"exampleModalLabel",children:e.sub_title}),Object(l.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(t){e.closeModal()},children:Object(l.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(l.jsx)("div",{className:"modal-body",children:e.children}),Object(l.jsx)("div",{className:"modal-footer"})]})})}),Object(l.jsx)("div",{className:"modal-backdrop fade show"})]})}}}]);