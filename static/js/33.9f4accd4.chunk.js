(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[33],{129:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));var c=a(16),s=a(7),r=a(2),l=a.n(r),i=a(167),n=a(165),o=a(28),d=a(83),x=a(110),b=a(1);function j(e){var t=Object(r.useRef)(),a=Object(r.useState)(!1),j=Object(s.a)(a,2),m=j[0],p=j[1],h=Object(r.useState)({m_type:"MATCHED"}),u=Object(s.a)(h,2),O=u[0],f=u[1],y=function(e){return e.getBoundingClientRect().bottom<=window.innerHeight+60};Object(r.useEffect)((function(){e.more_disable||p(!1)}),[e.more_disable]);var N=Object(r.useState)(!0),g=Object(s.a)(N,1)[0],v=[],k="";return(v=e.betlist.length>0?e.betlist.filter((function(t,a){return e.book_marketid?t.market_id===e.book_marketid:"MATCHED"===O.m_type?"FANCY"!==t.formula:"FANCY"===O.m_type?"FANCY"===t.formula:void 0})):Object(c.a)(e.betlist)).length>0&&(k=v.map((function(t,a){return Object(b.jsxs)("tr",{className:"border-b border-primary-700 ".concat("back"===t.bet_type?"bg-blue-300":"bg-pink-300"),children:[Object(b.jsx)("td",{className:"text-center",children:a+1}),Object(b.jsxs)("td",{className:"px-2 py-0.5",children:[t.r_name,(t.market_id.startsWith("9.")||t.market_id.startsWith("16."))&&" | BM",t.market_id.startsWith("17.")&&" | Mini BM",t.market_id.startsWith("18.")&&" | New BM"]}),Object(b.jsxs)("td",{className:"text-right px-2 py-0.5",children:[t.rate,"FANCY"===t.formula&&"/"+t.size]}),Object(b.jsx)("td",{className:"text-right px-2 py-0.5",children:t.stake}),Object(b.jsxs)("td",{className:"text-right px-2 py-0.5",children:["FANCY"!==t.formula&&"FANCY"!==t.formula&&"BOOK_MAKER"!==t.formula&&(t.stake*(t.rate-1)).toFixed(0),("FANCY"===t.formula||"FANCY"===t.formula)&&(t.stake*t.size/100).toFixed(0),"BOOK_MAKER"===t.formula&&(t.stake*t.rate/100).toFixed(0)]}),5===e.role&&Object(b.jsx)("td",{className:"text-center px-2 py-0.5",children:Object(d.a)(t.created_at)}),e.role<5&&Object(b.jsxs)(l.a.Fragment,{children:[Object(b.jsx)("td",{className:"text-right px-2 py-0.5",children:t.email}),Object(b.jsx)("td",{className:"text-center px-2 py-0.5",children:Object(d.a)(t.created_at)}),Object(b.jsx)("td",{className:"text-center px-2 py-0.5",children:t.webref}),Object(b.jsx)("td",{className:"text-center",children:Object(b.jsx)("span",{role:"button",title:t.device_info,children:t.ip_addr})})]})]},a)}))),Object(r.useEffect)((function(){var t=function(){e.closeModal(!0)};return window.addEventListener("popstate",t),function(){window.removeEventListener("popstate",t)}}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(i.a,{appear:!0,show:g,as:r.Fragment,children:Object(b.jsx)(n.a,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:function(){},static:!0,children:Object(b.jsxs)("div",{className:"min-h-screen text-center w-full",children:[Object(b.jsx)(i.a.Child,{as:r.Fragment,enter:"ease-out",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(b.jsx)(n.a.Overlay,{className:"fixed inset-0  ".concat(e.bgClass?e.bgClass:"bg-white dark:bg-primary-900"," ").concat(e.opacity?e.opacity:"")})}),Object(b.jsx)("span",{className:"inline-block h-screen align-top","aria-hidden":"true",children:"\u200b"}),Object(b.jsx)(i.a.Child,{as:r.Fragment,enter:"ease-out",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(b.jsxs)("div",{className:"inline-block w-full max-w-screen-md overflow-hidden text-left align-top transition-all transform bg-white dark:bg-primary-800 shadow-xl md:p-2",children:[Object(b.jsxs)(n.a.Title,{as:"h3",className:"grid grid-flow-col grid-cols-12 text-sm font-medium leading-6 text-blue-900 dark:text-blue-300 w-full px-2",children:[Object(b.jsx)("div",{className:"col-span-11",children:e.title}),Object(b.jsx)("div",{className:"col-span-1 hidden md:block",children:Object(b.jsx)(x.a,{role:"button",title:"Close",onClick:function(t){return e.closeModal()},className:"inline-flex float-right justify-center w-8 h-8  focus:outline-none text-red-500  dark:text-red-400  hover:text-red-400 dark:hover:text-red-300  float-right "})})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("button",{className:"".concat("FANCY"===O.m_type?"bg-primary-800":"active-hl"," text-white text-xs uppercase font-semibold py-1 ms-1 px-2 text-center"),onClick:function(e){f({m_type:"MATCHED"})},children:["Matched (",e.mb,")"]}),Object(b.jsxs)("button",{className:"".concat("FANCY"===O.m_type?"active-hl":"bg-primary-800"," text-white text-xs uppercase font-semibold py-1 ms-1 px-2 text-center"),onClick:function(e){f({m_type:"FANCY"})},children:["Fancy (",e.fb,")"]})]}),Object(b.jsx)("div",{onScroll:function(){t.current&&y(t.current)&&!m&&e.loadMore&&!e.noMore&&(p(!0),e.loadMore())},style:{minHeight:"30px",maxHeight:"96vh"},className:"overflow-auto w-full text-black",children:Object(b.jsxs)("table",{ref:t,className:"mx-auto max-w-4xl w-full whitespace-nowrap overflow-hidden text-sm",children:[Object(b.jsx)("thead",{className:"bg-primary-200 dark:bg-secondary-700",children:Object(b.jsxs)("tr",{className:"text-black dark:text-white text-left",children:[Object(b.jsx)("th",{className:"px-1 text-center",children:"Sr."}),Object(b.jsx)("th",{className:"px-2 py-0.5",children:"Runner"}),Object(b.jsx)("th",{className:"text-right px-2 py-0.5",children:"Rate"}),Object(b.jsx)("th",{className:"text-right px-2 py-0.5",children:"Stake"}),Object(b.jsx)("th",{className:"text-right px-2 py-0.5",children:"P/L"}),e.role<5&&Object(b.jsx)("th",{className:"text-right uppercase px-2 py-0.5",children:"USER"}),Object(b.jsx)("th",{className:"text-center uppercase px-2 py-0.5",children:"Time"}),e.role<5&&Object(b.jsx)("th",{className:"text-center uppercase px-2 py-0.5",children:"Ref."}),e.role<5&&Object(b.jsx)("th",{className:"text-center uppercase px-1 py-0.5",children:"IP"})]})}),v.length>0&&Object(b.jsx)("tbody",{className:"divide-y font-light",children:k})]})}),m&&!e.noMore&&Object(b.jsx)("div",{className:"relative h-20",children:Object(b.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:Object(b.jsx)(o.a,{})})})]})})]})})})})}}}]);