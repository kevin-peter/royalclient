(this["webpackJsonpsri-app"]=this["webpackJsonpsri-app"]||[]).push([[21],{121:function(t,e,n){"use strict";var c=n(2);var a=c.forwardRef((function(t,e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},t),c.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"}))}));e.a=a},150:function(t,e,n){"use strict";n.r(e);var c=n(16),a=n(3),s=n(6),r=n(7),i=n(2),l=n.n(i),o=n(18),b=n(83),u=n(28),j=n(121),d=n(76),p=n(1),h=l.a.lazy((function(){return n.e(6).then(n.bind(null,130))})),m=l.a.lazy((function(){return n.e(28).then(n.bind(null,131))})),x=l.a.lazy((function(){return n.e(7).then(n.bind(null,132))})),O=l.a.lazy((function(){return n.e(5).then(n.bind(null,133))})),f=l.a.lazy((function(){return n.e(4).then(n.bind(null,134))}));e.default=function(t){var e=Object(i.useContext)(o.b),n=Object(i.useState)(!1),g=Object(r.a)(n,2),w=g[0],v=g[1],k=Object(i.useState)([]),y=Object(r.a)(k,2),N=y[0],S=y[1],_=Object(i.useState)(!1),C=Object(r.a)(_,2),z=C[0],M=C[1],B=Object(i.useState)(!1),R=Object(r.a)(B,2),T=R[0],A=R[1],I=Object(i.useState)(!1),E=Object(r.a)(I,2),D=E[0],P=E[1],F=Object(i.useState)("deposit"),H=Object(r.a)(F,2),J=H[0],U=H[1],L=Object(i.useState)(!1),V=Object(r.a)(L,2),W=V[0],Y=V[1],q=Object(i.useState)(),G=Object(r.a)(q,2),K=(G[0],G[1]),Q=Object(i.useState)(!1),X=Object(r.a)(Q,2),Z=X[0],$=X[1],tt=Object(i.useState)("alert alert-success"),et=Object(r.a)(tt,2),nt=(et[0],et[1]),ct=Object(i.useState)(null),at=Object(r.a)(ct,2),st=at[0],rt=at[1],it=function(){var t=Object(s.a)(Object(a.a)().mark((function t(e,n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K(e),setTimeout((function(){K("")}),3e3),nt(n),A(!1),M(!1),P(!1),Y(!1),$(!1),ot(),rt(null);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){ot()}),[]);var lt=function(t){var e="USER";return 7===t&&(e="Operator"),2===t&&(e="ADMIN"),3===t&&(e="M"),4===t&&(e="SM"),5===t&&(e="C"),e},ot=function(){var n=Object(s.a)(Object(a.a)().mark((function n(){var c;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:v(!0),(c=new Headers).append("Content-Type","application/json"),c.append("Authorization","Bearer "+e.getItem("jwt")),fetch("https://api.royalrunbet.com/api/v1/user/getusers",{method:"POST",headers:c}).then((function(e){if(401!==e.status)return e.json();t.navigate("/login")})).then((function(t){t.data&&S(t.data)})).catch((function(t){console.log(t)})).finally((function(){v(!1)}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),bt=function(){var n=Object(s.a)(Object(a.a)().mark((function n(c){var s,r,i;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(window.confirm("resetting password for ".concat(c," ?"))){n.next=2;break}return n.abrupt("return");case 2:s={email:c},v(!0),(r=new Headers).append("Content-Type","application/json"),r.append("Authorization","Bearer "+e.getItem("jwt")),i={method:"POST",headers:r,body:JSON.stringify(s)},fetch("https://api.royalrunbet.com/api/v1/user/resetpassword",i).then((function(e){if(401!==e.status)return e.json();t.navigate("/login")})).then((function(t){t&&(nt("alert alert-success"),K(t.message),setTimeout((function(){K("")}),3e3))})).catch((function(t){K(t),nt("alert alert-danger")})).finally((function(){v(!1)}));case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),ut=function(){var e=Object(s.a)(Object(a.a)().mark((function e(n,r,i,l){var o,b,u;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!0),(o=new Headers).append("Content-Type","application/json"),o.append("Authorization","Bearer "+localStorage.getItem("jwt")),b={user_id:i},"visible"===r?b.visible=n:"locked"===r&&(b.locked=n),u={method:"POST",headers:o,body:JSON.stringify(b)},fetch("https://api.royalrunbet.com/api/v1/user/changeStatus",u).then((function(e){if(401!==e.status)return e.json();t.navigate("/login")})).then((function(t){if(t.message){var e=Object(c.a)(N);"visible"===r?e[l].status=n:"locked"===r&&(e[l].bet_lock=n),K(t.message),nt("alert alert-success")}})).catch((function(t){K(t),nt("alert alert-danger")})).finally(Object(s.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){nt(""),K("")}),3e3),v(!1);case 2:case"end":return t.stop()}}),t)}))));case 8:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"row pt-2 pb-1",children:Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("button",{onClick:function(){A(!0)},className:"btn btn-sm btn-outline-info float-right",children:"SET"}),Object(p.jsx)("button",{onClick:function(){M(!0)},className:"btn btn-sm btn-secondary shadow float-right",children:"ADD New User(+)"})]})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-12 p-0",children:Object(p.jsx)("div",{className:"table-responsive",children:Object(p.jsxs)("table",{className:"table table-bordered table-striped table-sm table-warning shadow align-middle kbr-table",children:[Object(p.jsx)("thead",{className:"",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{width:"5%",className:"text-center px-2 py-0.5",children:"Sr."}),Object(p.jsx)("th",{className:"px-2 py-1 text-center",children:"Name"}),Object(p.jsx)("th",{className:"px-2 py-1 text-center kbr-sticky-col",children:"USER ID"}),Object(p.jsx)("th",{className:"px-2 py-1 text-center",children:"Role"}),Object(p.jsx)("th",{className:"px-2 py-1 text-right",children:"Upline"}),Object(p.jsx)("th",{className:"px-2 py-1 text-right",children:"Amount"}),Object(p.jsx)("th",{className:"px-2 py-1 text-center",children:"Part"}),Object(p.jsx)("th",{className:"px-2 py-1 text-center",children:"Status"}),Object(p.jsx)("th",{className:"px-2 py-1 text-center",children:"Bet Lock"}),Object(p.jsx)("th",{className:"px-2 py-1 text-center",children:"Action"}),Object(p.jsx)("th",{className:"px-2 py-1 text-right",children:"Remark"})]})}),Object(p.jsx)("tbody",{children:N&&N.map((function(n,c){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"text-center px-2 py-1",width:"5%",children:c+1}),Object(p.jsx)("td",{className:"px-2 py-0.5 nowrap text-center",children:n.name}),Object(p.jsxs)("td",{className:"text-center px-2 py-0.5 kbr-sticky-col",children:[" ",n.p_code]}),Object(p.jsx)("td",{className:"text-center px-2 py-0.5",children:Object(p.jsx)("span",{role:"button",title:lt(n.u_role,n.cutting),className:"px-2 py-1 ".concat(Object(b.b)(n.u_role)),children:lt(n.u_role)})}),Object(p.jsx)("td",{className:"px-2 py-0.5 text-success text-right",children:Object(p.jsx)("button",{className:n.up_line>=0?"btn btn-sm btn-success":"btn btn-sm btn-danger",title:n.up_line,onClick:function(){var t=parseInt(n.up_line)<0?"withdraw":"deposit";U(t),$(!0),rt(n)},children:null!=n.up_line?Number(n.up_line).toFixed(2):"0.00"})}),Object(p.jsx)("td",{className:"px-2 py-0.5 text-success text-right",children:Object(p.jsx)("button",{className:n.amount>0?"btn btn-sm btn-success":"btn btn-sm btn-danger",title:n.amount,children:null!=n.amount?Number(n.amount).toFixed(2):"0.00"})}),Object(p.jsxs)("td",{className:"px-2 py-0.5 text-success text-center",children:[n.part,"%"]}),Object(p.jsx)("td",{className:"text-center px-2 py-0.5",children:Object(p.jsxs)("button",{title:"Status lock",onClick:Object(s.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ut(null!==n.status&&!n.status,"visible",n.id,c);case 2:case"end":return t.stop()}}),t)}))),className:"btn btn-sm ".concat(null===n.status||!0===Boolean(n.status)?"btn-success":"btn-danger"),children:["".concat((null===n.status||Boolean(n.status),"")),Object(p.jsx)(j.a,{className:"w-6"})]})}),Object(p.jsx)("td",{className:"text-center px-2 py-0.5",children:Object(p.jsxs)("button",{title:"Bet lock",onClick:Object(s.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ut(null!==n.bet_lock&&!n.bet_lock,"locked",n.id,c);case 2:case"end":return t.stop()}}),t)}))),className:"btn btn-sm ".concat(null===n.bet_lock||!0===Boolean(n.bet_lock)?"btn-success":"btn-danger"),children:["".concat((null===n.bet_lock||Boolean(n.bet_lock),"")),Object(p.jsx)(d.a,{className:"w-6"})]})}),Object(p.jsxs)("td",{className:"text-center nowrap",children:[Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{title:"withdraw",onClick:function(){U("withdraw"),P(!0),rt(n)},className:"btn btn-sm btn-info ml-1 shadow",children:"W"}),Object(p.jsx)("button",{title:"deposit",onClick:function(){U("deposit"),P(!0),rt(n)},className:"btn btn-sm btn-info ml-1 shadow",children:"D"}),Object(p.jsx)("button",{title:"user settings",onClick:function(){A(!0),rt(n)},className:"btn btn-sm btn-info ml-1 shadow",children:"SS"}),Object(p.jsx)("button",{title:"mode change",onClick:function(){Y(!0),rt(n)},className:"btn btn-sm btn-info ml-1 shadow",children:"Mode"}),Object(p.jsx)("button",{onClick:Object(s.a)(Object(a.a)().mark((function c(){return Object(a.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.setItem("active_user",n);case 2:t.navigate("/ac");case 3:case"end":return c.stop()}}),c)}))),title:"account statement",className:"btn btn-sm btn-info ml-1 shadow",children:"A/C"}),Object(p.jsx)("button",{onClick:Object(s.a)(Object(a.a)().mark((function c(){return Object(a.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.setItem("active_user",n);case 2:t.navigate("/pl");case 3:case"end":return c.stop()}}),c)}))),title:"profit loss",className:"btn btn-sm btn-info ml-1 shadow",children:"P/L"})]}),Object(p.jsx)("button",{title:"reset password",onClick:function(){bt(n.p_code)},className:"btn btn-sm btn-danger ml-1 shadow",children:"R/P"})]}),Object(p.jsx)("td",{className:"text-right px-2 py-0.5 nowrap",children:n.remark})]},c)}))})]})})})}),z&&Object(p.jsx)(l.a.Suspense,{fallback:Object(p.jsx)(u.a,{}),children:Object(p.jsx)(m,{closeModal:it})}),D&&Object(p.jsx)(l.a.Suspense,{fallback:Object(p.jsx)(u.a,{}),children:Object(p.jsx)(x,{user:st,closeModal:it,t_type:J})}),W&&Object(p.jsx)(l.a.Suspense,{fallback:Object(p.jsx)(u.a,{}),children:Object(p.jsx)(f,{user:st,closeModal:it})}),T&&Object(p.jsx)(l.a.Suspense,{fallback:Object(p.jsx)(u.a,{}),children:Object(p.jsx)(h,{user:st,closeModal:it})}),Z&&Object(p.jsx)(l.a.Suspense,{fallback:Object(p.jsx)(u.a,{}),children:Object(p.jsx)(O,{user:st,closeModal:it,t_type:J})}),w&&Object(p.jsx)(u.a,{})]})}},76:function(t,e,n){"use strict";var c=n(2);var a=c.forwardRef((function(t,e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:e},t),c.createElement("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}))}));e.a=a},83:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var c=function(t){var e=t.getMonth()+1,n=t.getDate(),c=t.getFullYear();return e<10&&(e="0"+e.toString()),n<10&&(n="0"+n.toString()),c+"-"+e+"-"+n},a=function(t){return new Date(t).toLocaleTimeString("en-IN",{month:"numeric",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})},s=function(t){var e="btn btn-sm btn-primary";return 2===t&&(e="btn btn-sm btn-danger"),3===t&&(e="btn btn-sm btn-warning"),4===t&&(e="btn btn-sm btn-warning"),5===t&&(e="btn btn-sm btn-info"),6===t&&(e="btn btn-sm btn-dark"),7===t&&(e="bg-green-100 hover:bg-green-50 dark:bg-green-500 dark:bg-green-500"),10===t&&(e="bg-pink-100 hover:bg-pink-50 dark:bg-pink-600 dark:hover:bg-pink-500"),e}}}]);